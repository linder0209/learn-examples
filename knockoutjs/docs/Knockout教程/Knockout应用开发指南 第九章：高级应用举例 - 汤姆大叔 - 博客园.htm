<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0060)http://www.cnblogs.com/TomXu/archive/2011/12/02/2257107.html -->
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-cn"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script async="" type="text/javascript" src="./Knockout应用开发指南 第九章：高级应用举例 - 汤姆大叔 - 博客园_files/gpt.js"></script><script type="text/javascript" src="./Knockout应用开发指南 第九章：高级应用举例 - 汤姆大叔 - 博客园_files/encoder.js"></script>

<title>Knockout应用开发指南 第九章：高级应用举例 - 汤姆大叔 - 博客园</title>
<link type="text/css" rel="stylesheet" href="./Knockout应用开发指南 第九章：高级应用举例 - 汤姆大叔 - 博客园_files/blog-common.css">
<link id="MainCss" type="text/css" rel="stylesheet" href="./Knockout应用开发指南 第九章：高级应用举例 - 汤姆大叔 - 博客园_files/style.css">
<link type="text/css" rel="stylesheet" href="./Knockout应用开发指南 第九章：高级应用举例 - 汤姆大叔 - 博客园_files/101461.css">
<link title="RSS" type="application/rss+xml" rel="alternate" href="http://www.cnblogs.com/TomXu/rss">
<link title="RSD" type="application/rsd+xml" rel="EditURI" href="http://www.cnblogs.com/TomXu/rsd.xml">
<link type="application/wlwmanifest+xml" rel="wlwmanifest" href="http://www.cnblogs.com/TomXu/wlwmanifest.xml">
<script src="./Knockout应用开发指南 第九章：高级应用举例 - 汤姆大叔 - 博客园_files/jquery.js" type="text/javascript"></script>  
<script type="text/javascript">var currentBlogApp = 'TomXu', cb_enable_mathjax=false;</script>
<script src="./Knockout应用开发指南 第九章：高级应用举例 - 汤姆大叔 - 博客园_files/blog-common.js" type="text/javascript"></script>
<script src="./Knockout应用开发指南 第九章：高级应用举例 - 汤姆大叔 - 博客园_files/skin.js" language="javascript" type="text/javascript"></script>
<script async="" type="text/javascript" src="./Knockout应用开发指南 第九章：高级应用举例 - 汤姆大叔 - 博客园_files/pubads_impl_32.js"></script><script type="text/javascript" src="./Knockout应用开发指南 第九章：高级应用举例 - 汤姆大叔 - 博客园_files/osd.js"></script></head>
<body>
<a name="top"></a>


<div id="container">
    <a class="minyx" href="http://www.spiga.com.mx/">Spiga</a>
    <ul id="topMnu">
        <!-- 统计数据 -->
        <li>
        
            
Posts - 128, 
Articles - 1, 
Comments - 15151
<!---->            
        
        </li>
        <!-- 这边可以增加一些链接 -->
        <!-- 博客园 -->
        <li><a href="http://www.cnblogs.com/">Cnblogs</a></li>
        <!-- 管理 -->
        <li id="topMnu-dashboard"><a id="lnkDashboard" href="http://www.cnblogs.com/TomXu/admin/EditPosts.aspx">Dashboard</a></li>
        <li><a id="lnkLogin" href="http://passport.cnblogs.com/login.aspx?ReturnUrl=http://www.cnblogs.com/TomXu/archive/2011/12/02/2257107.html">Login</a></li>
    </ul>
    
    <script language="javascript" type="text/javascript">
        var m = window.__blog.topMenuRendered;
        if (m) { m(__$("topMnu")); }
    </script>

    <div id="header">
        <ul id="menu">
                <!-- 首页，当前section加上current类 -->
                <li id="menu-home" class="current"><a id="lnkHome" href="http://www.cnblogs.com/TomXu/">Home</a></li>
                <!-- 联系 -->
                <li id="menu-contact"><a id="lnkContact" href="http://space.cnblogs.com/msg/send/%e6%b1%a4%e5%a7%86%e5%a4%a7%e5%8f%94">Contact</a></li>
                <!-- 相册 -->
                <li id="menu-gallary"><a id="lnkGallery" href="http://www.cnblogs.com/TomXu/gallery.html">Gallery</a></li>
                <!-- Rss订阅 -->
                <li id="rss"><a id="lnkRss" href="http://www.cnblogs.com/TomXu/rss">RSS</a></li>
        </ul>
	<div id="newmsg"></div>
        <h1>
            <!-- 主标题 -->
            <a id="lnkBlogTitle" href="http://www.cnblogs.com/TomXu/">汤姆大叔的博客</a>
            <!-- 子标题 -->
            <small></small>
        </h1>
    </div>
    
    <script language="javascript" type="text/javascript">
        var m = window.__blog.headerRendered;
        if (m) { m(__$("header")); }
    </script>
        
    <div id="wrapper"> 
        <div id="content">
             <script language="javascript" type="text/javascript">
                        var m = window.__blog.preRenderPosts;
                        if (m) { m(); } 
            </script>
            

<div class="post" id="post"><a name="top"></a>
    <h2>
        <a id="ctl01_lnkTitle" href="./Knockout应用开发指南 第九章：高级应用举例 - 汤姆大叔 - 博客园_files/Knockout应用开发指南 第九章：高级应用举例 - 汤姆大叔 - 博客园.htm">Knockout应用开发指南 第九章：高级应用举例</a></h2>
    <small>
        2011-12-02 15:04
        by
        汤姆大叔,
        <span id="post_view_count">6192</span>
        阅读,
        <span id="post-comment-count"><span id="post_comment_count">8</span></span>
        评论,
        <a href="http://www.cnblogs.com/TomXu/archive/2011/12/02/2257107.html#" onclick="PutInWz();return false;">收藏</a>,
        <a id="ctl01_lnkEdit" href="http://i.cnblogs.com/EditPosts.aspx?postid=2257107">编辑</a></small>
    <div class="entry">
        <div id="cnblogs_post_body"><h3>1&nbsp;&nbsp; Contacts editor</h3>
<p>这个例子和微软为演示jQuery Data Linking Proposal例子提供的例子一样的提供的，我们可以看看Knockout实现是难了还是容易了。</p>
<p>代码量的多少不重要（尽快Knockout 的实现很简洁），重要的看起来是否容易理解且可读。查看HTML源代码，看看如何实现的view model以及绑定的。</p>
<p>&nbsp;<img src="./Knockout应用开发指南 第九章：高级应用举例 - 汤姆大叔 - 博客园_files/2011112113222431.png" alt=""></p>
<p>&nbsp;</p>
<p><strong>代码: View</strong></p>
<div class="cnblogs_code" onclick="cnblogs_code_show(&#39;a08f2c45-176f-4acd-9d72-eee917dfac94&#39;)"><img id="code_img_closed_a08f2c45-176f-4acd-9d72-eee917dfac94" class="code_img_closed" src="./Knockout应用开发指南 第九章：高级应用举例 - 汤姆大叔 - 博客园_files/ContractedBlock.gif" alt=""><img id="code_img_opened_a08f2c45-176f-4acd-9d72-eee917dfac94" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide(&#39;a08f2c45-176f-4acd-9d72-eee917dfac94&#39;,event)" src="./Knockout应用开发指南 第九章：高级应用举例 - 汤姆大叔 - 博客园_files/ExpandedBlockStart.gif" alt=""><span class="cnblogs_code_collapse">View Code </span>
<div id="cnblogs_code_open_a08f2c45-176f-4acd-9d72-eee917dfac94" class="cnblogs_code_hide">
<pre><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">h2</span><span style="color: #0000ff;">&gt;</span>Contacts<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">h2</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">div </span><span style="color: #ff0000;">id</span><span style="color: #0000ff;">="contactsList"</span><span style="color: #ff0000;"> data-bind</span><span style="color: #0000ff;">='template: </span><span style="color: #ff0000;">"contactsListTemplate"'</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">div</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">script </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">="text/html"</span><span style="color: #ff0000;"> id</span><span style="color: #0000ff;">="contactsListTemplate"</span><span style="color: #0000ff;">&gt;</span><span style="background-color: #f5f5f5; color: #000000;"><br>     </span><span style="background-color: #f5f5f5; color: #000000;">&lt;</span><span style="background-color: #f5f5f5; color: #000000;">table class</span><span style="background-color: #f5f5f5; color: #000000;">=</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">contactsEditor</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">&gt;</span><span style="background-color: #f5f5f5; color: #000000;"><br>        </span><span style="background-color: #f5f5f5; color: #000000;">&lt;</span><span style="background-color: #f5f5f5; color: #000000;">tr</span><span style="background-color: #f5f5f5; color: #000000;">&gt;</span><span style="background-color: #f5f5f5; color: #000000;"><br>            </span><span style="background-color: #f5f5f5; color: #000000;">&lt;</span><span style="background-color: #f5f5f5; color: #000000;">th</span><span style="background-color: #f5f5f5; color: #000000;">&gt;</span><span style="background-color: #f5f5f5; color: #000000;">First name</span><span style="background-color: #f5f5f5; color: #000000;">&lt;</span><span style="background-color: #f5f5f5; color: #000000;">/</span><span style="background-color: #f5f5f5; color: #000000;">th&gt;</span><span style="background-color: #f5f5f5; color: #000000;"><br></span><span style="background-color: #f5f5f5; color: #000000;">&lt;</span><span style="background-color: #f5f5f5; color: #000000;">th</span><span style="background-color: #f5f5f5; color: #000000;">&gt;</span><span style="background-color: #f5f5f5; color: #000000;">Last name</span><span style="background-color: #f5f5f5; color: #000000;">&lt;</span><span style="background-color: #f5f5f5; color: #000000;">/</span><span style="background-color: #f5f5f5; color: #000000;">th&gt;</span><span style="background-color: #f5f5f5; color: #000000;"><br></span><span style="background-color: #f5f5f5; color: #000000;">&lt;</span><span style="background-color: #f5f5f5; color: #000000;">th</span><span style="background-color: #f5f5f5; color: #000000;">&gt;</span><span style="background-color: #f5f5f5; color: #000000;">Phone numbers</span><span style="background-color: #f5f5f5; color: #000000;">&lt;</span><span style="background-color: #f5f5f5; color: #000000;">/</span><span style="background-color: #f5f5f5; color: #000000;">th&gt;</span><span style="background-color: #f5f5f5; color: #000000;"><br></span><span style="background-color: #f5f5f5; color: #000000;">&lt;</span><span style="background-color: #f5f5f5; color: #000000;">/</span><span style="background-color: #f5f5f5; color: #000000;">tr&gt;</span><span style="background-color: #f5f5f5; color: #000000;"><br></span><span style="background-color: #f5f5f5; color: #000000;"><br>        {{each(i, contact) contacts()}}      <br>            </span><span style="background-color: #f5f5f5; color: #000000;">&lt;</span><span style="background-color: #f5f5f5; color: #000000;">tr</span><span style="background-color: #f5f5f5; color: #000000;">&gt;</span><span style="background-color: #f5f5f5; color: #000000;"><br>                </span><span style="background-color: #f5f5f5; color: #000000;">&lt;</span><span style="background-color: #f5f5f5; color: #000000;">td</span><span style="background-color: #f5f5f5; color: #000000;">&gt;</span><span style="background-color: #f5f5f5; color: #000000;"><br>                    </span><span style="background-color: #f5f5f5; color: #000000;">&lt;</span><span style="background-color: #f5f5f5; color: #000000;">input data</span><span style="background-color: #f5f5f5; color: #000000;">-</span><span style="background-color: #f5f5f5; color: #000000;">bind</span><span style="background-color: #f5f5f5; color: #000000;">=</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">value: firstName</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">/</span><span style="background-color: #f5f5f5; color: #000000;">&gt;</span><span style="background-color: #f5f5f5; color: #000000;"><br></span><span style="background-color: #f5f5f5; color: #000000;">&lt;</span><span style="background-color: #f5f5f5; color: #000000;">div</span><span style="background-color: #f5f5f5; color: #000000;">&gt;&lt;</span><span style="background-color: #f5f5f5; color: #000000;">a href</span><span style="background-color: #f5f5f5; color: #000000;">=</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">#</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;"> data</span><span style="background-color: #f5f5f5; color: #000000;">-</span><span style="background-color: #f5f5f5; color: #000000;">bind</span><span style="background-color: #f5f5f5; color: #000000;">=</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">click: function() { viewModel.removeContact(contact) }</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">&gt;</span><span style="background-color: #f5f5f5; color: #000000;">Delete</span><span style="background-color: #f5f5f5; color: #000000;">&lt;</span><span style="background-color: #f5f5f5; color: #000000;">/</span><span style="background-color: #f5f5f5; color: #000000;">a&gt;&lt;</span><span style="background-color: #f5f5f5; color: #000000;">/</span><span style="background-color: #f5f5f5; color: #000000;">div</span><span style="background-color: #f5f5f5; color: #000000;">&gt;</span><span style="background-color: #f5f5f5; color: #000000;"><br>                </span><span style="background-color: #f5f5f5; color: #000000;">&lt;</span><span style="background-color: #f5f5f5; color: #000000;">/</span><span style="background-color: #f5f5f5; color: #000000;">td&gt;</span><span style="background-color: #f5f5f5; color: #000000;"><br></span><span style="background-color: #f5f5f5; color: #000000;">&lt;</span><span style="background-color: #f5f5f5; color: #000000;">td</span><span style="background-color: #f5f5f5; color: #000000;">&gt;&lt;</span><span style="background-color: #f5f5f5; color: #000000;">input data</span><span style="background-color: #f5f5f5; color: #000000;">-</span><span style="background-color: #f5f5f5; color: #000000;">bind</span><span style="background-color: #f5f5f5; color: #000000;">=</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">value: lastName</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">/</span><span style="background-color: #f5f5f5; color: #000000;">&gt;&lt;</span><span style="background-color: #f5f5f5; color: #000000;">/</span><span style="background-color: #f5f5f5; color: #000000;">td</span><span style="background-color: #f5f5f5; color: #000000;">&gt;</span><span style="background-color: #f5f5f5; color: #000000;"><br>                </span><span style="background-color: #f5f5f5; color: #000000;">&lt;</span><span style="background-color: #f5f5f5; color: #000000;">td</span><span style="background-color: #f5f5f5; color: #000000;">&gt;</span><span style="background-color: #f5f5f5; color: #000000;"><br>                    </span><span style="background-color: #f5f5f5; color: #000000;">&lt;</span><span style="background-color: #f5f5f5; color: #000000;">table</span><span style="background-color: #f5f5f5; color: #000000;">&gt;</span><span style="background-color: #f5f5f5; color: #000000;"><br>                        {{each(i, phone) phones}}<br>                            </span><span style="background-color: #f5f5f5; color: #000000;">&lt;</span><span style="background-color: #f5f5f5; color: #000000;">tr</span><span style="background-color: #f5f5f5; color: #000000;">&gt;</span><span style="background-color: #f5f5f5; color: #000000;"><br>                                </span><span style="background-color: #f5f5f5; color: #000000;">&lt;</span><span style="background-color: #f5f5f5; color: #000000;">td</span><span style="background-color: #f5f5f5; color: #000000;">&gt;&lt;</span><span style="background-color: #f5f5f5; color: #000000;">input data</span><span style="background-color: #f5f5f5; color: #000000;">-</span><span style="background-color: #f5f5f5; color: #000000;">bind</span><span style="background-color: #f5f5f5; color: #000000;">=</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">value: type</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">/</span><span style="background-color: #f5f5f5; color: #000000;">&gt;&lt;</span><span style="background-color: #f5f5f5; color: #000000;">/</span><span style="background-color: #f5f5f5; color: #000000;">td</span><span style="background-color: #f5f5f5; color: #000000;">&gt;</span><span style="background-color: #f5f5f5; color: #000000;"><br>                                </span><span style="background-color: #f5f5f5; color: #000000;">&lt;</span><span style="background-color: #f5f5f5; color: #000000;">td</span><span style="background-color: #f5f5f5; color: #000000;">&gt;&lt;</span><span style="background-color: #f5f5f5; color: #000000;">input data</span><span style="background-color: #f5f5f5; color: #000000;">-</span><span style="background-color: #f5f5f5; color: #000000;">bind</span><span style="background-color: #f5f5f5; color: #000000;">=</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">value: number</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">/</span><span style="background-color: #f5f5f5; color: #000000;">&gt;&lt;</span><span style="background-color: #f5f5f5; color: #000000;">/</span><span style="background-color: #f5f5f5; color: #000000;">td</span><span style="background-color: #f5f5f5; color: #000000;">&gt;</span><span style="background-color: #f5f5f5; color: #000000;"><br>                                </span><span style="background-color: #f5f5f5; color: #000000;">&lt;</span><span style="background-color: #f5f5f5; color: #000000;">td</span><span style="background-color: #f5f5f5; color: #000000;">&gt;&lt;</span><span style="background-color: #f5f5f5; color: #000000;">a href</span><span style="background-color: #f5f5f5; color: #000000;">=</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">#</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;"> data</span><span style="background-color: #f5f5f5; color: #000000;">-</span><span style="background-color: #f5f5f5; color: #000000;">bind</span><span style="background-color: #f5f5f5; color: #000000;">=</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">click: function() { viewModel.removePhone(contact, phone) }</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">&gt;</span><span style="background-color: #f5f5f5; color: #000000;">Delete</span><span style="background-color: #f5f5f5; color: #000000;">&lt;</span><span style="background-color: #f5f5f5; color: #000000;">/</span><span style="background-color: #f5f5f5; color: #000000;">a&gt;&lt;</span><span style="background-color: #f5f5f5; color: #000000;">/</span><span style="background-color: #f5f5f5; color: #000000;">td</span><span style="background-color: #f5f5f5; color: #000000;">&gt;</span><span style="background-color: #f5f5f5; color: #000000;"><br>                            </span><span style="background-color: #f5f5f5; color: #000000;">&lt;</span><span style="background-color: #f5f5f5; color: #000000;">/</span><span style="background-color: #f5f5f5; color: #000000;">tr&gt;</span><span style="background-color: #f5f5f5; color: #000000;"><br></span><span style="background-color: #f5f5f5; color: #000000;">                        {{</span><span style="background-color: #f5f5f5; color: #000000;">/</span><span style="background-color: #f5f5f5; color: #000000;">each}}</span><span style="background-color: #f5f5f5; color: #000000;"><br></span><span style="background-color: #f5f5f5; color: #000000;">&lt;</span><span style="background-color: #f5f5f5; color: #000000;">/</span><span style="background-color: #f5f5f5; color: #000000;">table&gt;</span><span style="background-color: #f5f5f5; color: #000000;"><br></span><span style="background-color: #f5f5f5; color: #000000;">&lt;</span><span style="background-color: #f5f5f5; color: #000000;">a href</span><span style="background-color: #f5f5f5; color: #000000;">=</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">#</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;"> data</span><span style="background-color: #f5f5f5; color: #000000;">-</span><span style="background-color: #f5f5f5; color: #000000;">bind</span><span style="background-color: #f5f5f5; color: #000000;">=</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">click: function() { viewModel.addPhone(contact) }</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">&gt;</span><span style="background-color: #f5f5f5; color: #000000;">Add number</span><span style="background-color: #f5f5f5; color: #000000;">&lt;</span><span style="background-color: #f5f5f5; color: #000000;">/</span><span style="background-color: #f5f5f5; color: #000000;">a&gt;</span><span style="background-color: #f5f5f5; color: #000000;"><br></span><span style="background-color: #f5f5f5; color: #000000;">&lt;</span><span style="background-color: #f5f5f5; color: #000000;">/</span><span style="background-color: #f5f5f5; color: #000000;">td&gt;</span><span style="background-color: #f5f5f5; color: #000000;"><br></span><span style="background-color: #f5f5f5; color: #000000;">&lt;</span><span style="background-color: #f5f5f5; color: #000000;">/</span><span style="background-color: #f5f5f5; color: #000000;">tr&gt;</span><span style="background-color: #f5f5f5; color: #000000;"><br></span><span style="background-color: #f5f5f5; color: #000000;">        {{</span><span style="background-color: #f5f5f5; color: #000000;">/</span><span style="background-color: #f5f5f5; color: #000000;">each}}</span><span style="background-color: #f5f5f5; color: #000000;"><br></span><span style="background-color: #f5f5f5; color: #000000;">&lt;</span><span style="background-color: #f5f5f5; color: #000000;">/</span><span style="background-color: #f5f5f5; color: #000000;">table&gt;</span><span style="background-color: #f5f5f5; color: #000000;"><br></span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">script</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">p</span><span style="color: #0000ff;">&gt;</span><br>    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">button </span><span style="color: #ff0000;">data-bind</span><span style="color: #0000ff;">="click: addContact"</span><span style="color: #0000ff;">&gt;</span><br>        Add a contact<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">button</span><span style="color: #0000ff;">&gt;</span><br>    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">button </span><span style="color: #ff0000;">data-bind</span><span style="color: #0000ff;">="click: save, enable: contacts().length &gt; 0"</span><span style="color: #0000ff;">&gt;</span><br>        Save to JSON<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">button</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">p</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">textarea </span><span style="color: #ff0000;">data-bind</span><span style="color: #0000ff;">="value: lastSavedJson"</span><span style="color: #ff0000;"> rows</span><span style="color: #0000ff;">="5"</span><span style="color: #ff0000;"> cols</span><span style="color: #0000ff;">="60"</span><span style="color: #ff0000;"> disabled</span><span style="color: #0000ff;">="disabled"</span><span style="color: #0000ff;">&gt;</span> <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">textarea</span><span style="color: #0000ff;">&gt;</span></pre>
</div>
</div>
<p><strong><br></strong></p>
<p><strong><strong>代码</strong>: View model</strong></p>
<div class="cnblogs_code" onclick="cnblogs_code_show(&#39;2d0751f6-0d1c-4957-b49a-d0b98ac307bd&#39;)"><img id="code_img_closed_2d0751f6-0d1c-4957-b49a-d0b98ac307bd" class="code_img_closed" src="./Knockout应用开发指南 第九章：高级应用举例 - 汤姆大叔 - 博客园_files/ContractedBlock.gif" alt=""><img id="code_img_opened_2d0751f6-0d1c-4957-b49a-d0b98ac307bd" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide(&#39;2d0751f6-0d1c-4957-b49a-d0b98ac307bd&#39;,event)" src="./Knockout应用开发指南 第九章：高级应用举例 - 汤姆大叔 - 博客园_files/ExpandedBlockStart.gif" alt=""><span class="cnblogs_code_collapse">View Code </span>
<div id="cnblogs_code_open_2d0751f6-0d1c-4957-b49a-d0b98ac307bd" class="cnblogs_code_hide">
<pre><span style="color: #0000ff;">var</span> viewModel = {<br>    contacts: <span style="color: #0000ff;">new</span> ko.observableArray([<br>        { firstName: "Danny", lastName: "LaRusso", phones: [<br>            { type: "Mobile", number: "(555) 121-2121" },<br>            { type: "Home", number: "(555) 123-4567"}]<br>        },<br><br>        { firstName: "Sensei", lastName: "Miyagi", phones: [<br>            { type: "Mobile", number: "(555) 444-2222" },<br>            { type: "Home", number: "(555) 999-1212"}]<br>        }<br>    ]),<br><br>    addContact: <span style="color: #0000ff;">function</span> () {<br>        viewModel.contacts.push({ firstName: "", lastName: "", phones: [] });<br>    },<br><br>    removeContact: <span style="color: #0000ff;">function</span> (contact) {<br>        viewModel.contacts.remove(contact);<br>    },<br><br>    addPhone: <span style="color: #0000ff;">function</span> (contact) {<br>        contact.phones.push({ type: "", number: "" });<br>        viewModel.contacts.valueHasMutated();<br>    },<br><br>    removePhone: <span style="color: #0000ff;">function</span> (contact, phone) {<br>        ko.utils.arrayRemoveItem(contact.phones, phone);<br>        viewModel.contacts.valueHasMutated();<br>    },<br><br>    save: <span style="color: #0000ff;">function</span> () {<br>        viewModel.lastSavedJson(JSON.stringify(viewModel.contacts(), <span style="color: #0000ff;">null</span>, 2));<br>    },<br><br>    lastSavedJson: <span style="color: #0000ff;">new</span> ko.observable("")<br>};<br><br>ko.applyBindings(viewModel);</pre>
</div>
</div>
<h3>&nbsp;</h3>
<h3>2&nbsp;&nbsp; Editable grid</h3>
<p>该例是使用“foreach”绑定为数组里的每一项来render到 template上。好处（相对于模板内部使用for循环）是当你添加或者删除item项的时候，Knockout不需要重新render – 只需要render新的item项。就是说UI上其它控件的状态（比如验证状态）不会丢失。</p>
<p>如何一步一步构建这个例子并集成ASP.NET MVC，请<a href="http://blog.stevensanderson.com/2010/07/12/editing-a-variable-length-list-knockout-style/" target="_blank">参阅此贴</a>。</p>
<p>&nbsp;<img src="./Knockout应用开发指南 第九章：高级应用举例 - 汤姆大叔 - 博客园_files/2011112113255246.png" alt=""></p>
<p>&nbsp;</p>
<p><strong><strong>代码</strong>: View</strong></p>
<div class="cnblogs_code" onclick="cnblogs_code_show(&#39;3646e3e5-6b6e-4a45-932b-5105913a55e6&#39;)"><img id="code_img_closed_3646e3e5-6b6e-4a45-932b-5105913a55e6" class="code_img_closed" src="./Knockout应用开发指南 第九章：高级应用举例 - 汤姆大叔 - 博客园_files/ContractedBlock.gif" alt=""><img id="code_img_opened_3646e3e5-6b6e-4a45-932b-5105913a55e6" class="code_img_opened" style="display: none; " onclick="cnblogs_code_hide(&#39;3646e3e5-6b6e-4a45-932b-5105913a55e6&#39;,event)" src="./Knockout应用开发指南 第九章：高级应用举例 - 汤姆大叔 - 博客园_files/ExpandedBlockStart.gif" alt=""><span class="cnblogs_code_collapse">View Code </span>
<div id="cnblogs_code_open_3646e3e5-6b6e-4a45-932b-5105913a55e6" class="cnblogs_code_hide">
<pre><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">form </span><span style="color: #ff0000;">action</span><span style="color: #0000ff;">="/someServerSideHandler"</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">p</span><span style="color: #0000ff;">&gt;</span><br>    You have asked for <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">span </span><span style="color: #ff0000;">data-bind</span><span style="color: #0000ff;">="text: gifts().length"</span><span style="color: #0000ff;">&gt;</span><span style="color: #ff0000;">&amp;nbsp;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">span</span><span style="color: #0000ff;">&gt;</span> gift(s)<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">p</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">table </span><span style="color: #ff0000;">data-bind</span><span style="color: #0000ff;">="visible: gifts().length &gt; 0"</span><span style="color: #0000ff;">&gt;</span><br>    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">thead</span><span style="color: #0000ff;">&gt;</span><br>        <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">tr</span><span style="color: #0000ff;">&gt;</span><br>            <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">th</span><span style="color: #0000ff;">&gt;</span>Gift name<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">th</span><span style="color: #0000ff;">&gt;</span><br>            <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">th</span><span style="color: #0000ff;">&gt;</span>Price<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">th</span><span style="color: #0000ff;">&gt;</span><br>            <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">th</span><span style="color: #0000ff;">&gt;&lt;/</span><span style="color: #800000;">th</span><span style="color: #0000ff;">&gt;</span><br>        <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">tr</span><span style="color: #0000ff;">&gt;</span><br>    <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">thead</span><span style="color: #0000ff;">&gt;</span><br>    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">tbody </span><span style="color: #ff0000;">data-bind</span><span style="color: #0000ff;">='template: </span><span style="color: #ff0000;">{ name: "giftRowTemplate", foreach: gifts }'</span><span style="color: #0000ff;">&gt;</span><br>    <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">tbody</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">table</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">button </span><span style="color: #ff0000;">data-bind</span><span style="color: #0000ff;">="click: addGift"</span><span style="color: #0000ff;">&gt;</span><br>    Add Gift<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">button</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">button </span><span style="color: #ff0000;">data-bind</span><span style="color: #0000ff;">="enable: gifts().length &gt; 0"</span><span style="color: #ff0000;"> type</span><span style="color: #0000ff;">="submit"</span><span style="color: #0000ff;">&gt;</span><br>    Submit<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">button</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">form</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">script </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">="text/html"</span><span style="color: #ff0000;"> id</span><span style="color: #0000ff;">="giftRowTemplate"</span><span style="color: #0000ff;">&gt;</span><span style="background-color: #f5f5f5; color: #000000;"><br>    </span><span style="background-color: #f5f5f5; color: #000000;">&lt;</span><span style="background-color: #f5f5f5; color: #000000;">tr</span><span style="background-color: #f5f5f5; color: #000000;">&gt;</span><span style="background-color: #f5f5f5; color: #000000;"><br>        </span><span style="background-color: #f5f5f5; color: #000000;">&lt;</span><span style="background-color: #f5f5f5; color: #000000;">td</span><span style="background-color: #f5f5f5; color: #000000;">&gt;&lt;</span><span style="background-color: #f5f5f5; color: #000000;">input class</span><span style="background-color: #f5f5f5; color: #000000;">=</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">required</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;"> data</span><span style="background-color: #f5f5f5; color: #000000;">-</span><span style="background-color: #f5f5f5; color: #000000;">bind</span><span style="background-color: #f5f5f5; color: #000000;">=</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">value: name, uniqueName: true</span><span style="background-color: #f5f5f5; color: #000000;">"/</span><span style="background-color: #f5f5f5; color: #000000;">&gt;&lt;</span><span style="background-color: #f5f5f5; color: #000000;">/</span><span style="background-color: #f5f5f5; color: #000000;">td</span><span style="background-color: #f5f5f5; color: #000000;">&gt;</span><span style="background-color: #f5f5f5; color: #000000;"><br>        </span><span style="background-color: #f5f5f5; color: #000000;">&lt;</span><span style="background-color: #f5f5f5; color: #000000;">td</span><span style="background-color: #f5f5f5; color: #000000;">&gt;&lt;</span><span style="background-color: #f5f5f5; color: #000000;">input class</span><span style="background-color: #f5f5f5; color: #000000;">=</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">required number</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;"> data</span><span style="background-color: #f5f5f5; color: #000000;">-</span><span style="background-color: #f5f5f5; color: #000000;">bind</span><span style="background-color: #f5f5f5; color: #000000;">=</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">value: price, uniqueName: true</span><span style="background-color: #f5f5f5; color: #000000;">"/</span><span style="background-color: #f5f5f5; color: #000000;">&gt;&lt;</span><span style="background-color: #f5f5f5; color: #000000;">/</span><span style="background-color: #f5f5f5; color: #000000;">td</span><span style="background-color: #f5f5f5; color: #000000;">&gt;</span><span style="background-color: #f5f5f5; color: #000000;"><br>        </span><span style="background-color: #f5f5f5; color: #000000;">&lt;</span><span style="background-color: #f5f5f5; color: #000000;">td</span><span style="background-color: #f5f5f5; color: #000000;">&gt;&lt;</span><span style="background-color: #f5f5f5; color: #000000;">a href</span><span style="background-color: #f5f5f5; color: #000000;">=</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">#</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;"> data</span><span style="background-color: #f5f5f5; color: #000000;">-</span><span style="background-color: #f5f5f5; color: #000000;">bind</span><span style="background-color: #f5f5f5; color: #000000;">=</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">click: function() { viewModel.removeGift($data) }</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">&gt;</span><span style="background-color: #f5f5f5; color: #000000;">Delete</span><span style="background-color: #f5f5f5; color: #000000;">&lt;</span><span style="background-color: #f5f5f5; color: #000000;">/</span><span style="background-color: #f5f5f5; color: #000000;">a&gt;&lt;</span><span style="background-color: #f5f5f5; color: #000000;">/</span><span style="background-color: #f5f5f5; color: #000000;">td</span><span style="background-color: #f5f5f5; color: #000000;">&gt;</span><span style="background-color: #f5f5f5; color: #000000;"><br>    </span><span style="background-color: #f5f5f5; color: #000000;">&lt;</span><span style="background-color: #f5f5f5; color: #000000;">/</span><span style="background-color: #f5f5f5; color: #000000;">tr&gt;</span><span style="background-color: #f5f5f5; color: #000000;"><br></span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">script</span><span style="color: #0000ff;">&gt;</span></pre>
</div>
</div>
<p><strong><br></strong></p>
<p><strong><strong>代码</strong>: View model</strong></p>
<div class="cnblogs_code" onclick="cnblogs_code_show(&#39;8197c4c9-dd42-4e2e-91b3-beefe4bdc978&#39;)"><img id="code_img_closed_8197c4c9-dd42-4e2e-91b3-beefe4bdc978" class="code_img_closed" src="./Knockout应用开发指南 第九章：高级应用举例 - 汤姆大叔 - 博客园_files/ContractedBlock.gif" alt=""><img id="code_img_opened_8197c4c9-dd42-4e2e-91b3-beefe4bdc978" class="code_img_opened" style="display: none; " onclick="cnblogs_code_hide(&#39;8197c4c9-dd42-4e2e-91b3-beefe4bdc978&#39;,event)" src="./Knockout应用开发指南 第九章：高级应用举例 - 汤姆大叔 - 博客园_files/ExpandedBlockStart.gif" alt=""><span class="cnblogs_code_collapse">View Code </span>
<div id="cnblogs_code_open_8197c4c9-dd42-4e2e-91b3-beefe4bdc978" class="cnblogs_code_hide">
<pre><span style="color: #0000ff;">var</span> viewModel = {<br>    gifts: ko.observableArray([<br>        { name: "Tall Hat", price: "39.95" },<br>        { name: "Long Cloak", price: "120.00" }<br>    ]),<br>    <br>    addGift: <span style="color: #0000ff;">function</span> () {<br>        <span style="color: #0000ff;">this</span>.gifts.push({ name: "", price: "" });<br>    },<br>    <br>    removeGift: <span style="color: #0000ff;">function</span> (gift) {<br>        <span style="color: #0000ff;">this</span>.gifts.remove(gift);<br>    },<br><br>    save: <span style="color: #0000ff;">function</span> (form) {<br>        alert("Could now transmit to server: " + ko.utils.stringifyJson(<span style="color: #0000ff;">this</span>.gifts));<br>        <span style="color: #008000;">//</span><span style="color: #008000;"> To transmit to server, write this: ko.utils.postJson($("form")[0], this.gifts);</span><span style="color: #008000;"><br></span>    }<br>};<br><br>ko.applyBindings(viewModel);<br><br>$("form").validate({ submitHandler: <span style="color: #0000ff;">function</span> () { viewModel.save() } });</pre>
</div>
</div>
<p><strong><br></strong></p>
<h3>3&nbsp;&nbsp; Shopping cart screen</h3>
<p>这个例子展示的是依赖监控属性（dependent observable）怎么样链在一起。每个cart对象都有一个dependentObservable对象去计算自己的subtotal，这些又被一个进一步的dependentObservable对象依赖计算总的价格。当改变数据的时候，整个链上的依赖监控属性都会改变，所有相关的UI元素也会被更新。</p>
<p>这个例子也展示了如何创建联动的下拉菜单。</p>
<p><img src="./Knockout应用开发指南 第九章：高级应用举例 - 汤姆大叔 - 博客园_files/2011112113275165.png" alt=""></p>
<p>&nbsp;</p>
<p><strong><strong>代码</strong>: View</strong></p>
<div class="cnblogs_code" onclick="cnblogs_code_show(&#39;29ef202b-04ea-411a-93f1-20caeef1d7b7&#39;)"><img id="code_img_closed_29ef202b-04ea-411a-93f1-20caeef1d7b7" class="code_img_closed" src="./Knockout应用开发指南 第九章：高级应用举例 - 汤姆大叔 - 博客园_files/ContractedBlock.gif" alt=""><img id="code_img_opened_29ef202b-04ea-411a-93f1-20caeef1d7b7" class="code_img_opened" style="display: none; " onclick="cnblogs_code_hide(&#39;29ef202b-04ea-411a-93f1-20caeef1d7b7&#39;,event)" src="./Knockout应用开发指南 第九章：高级应用举例 - 汤姆大叔 - 博客园_files/ExpandedBlockStart.gif" alt=""><span class="cnblogs_code_collapse">View Code </span>
<div id="cnblogs_code_open_29ef202b-04ea-411a-93f1-20caeef1d7b7" class="cnblogs_code_hide">
<pre><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">div </span><span style="color: #ff0000;">id</span><span style="color: #0000ff;">="cartEditor"</span><span style="color: #0000ff;">&gt;</span><br>    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">table </span><span style="color: #ff0000;">width</span><span style="color: #0000ff;">="100%"</span><span style="color: #0000ff;">&gt;</span><br>        <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">thead</span><span style="color: #0000ff;">&gt;</span><br>            <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">tr</span><span style="color: #0000ff;">&gt;</span><br>                <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">th </span><span style="color: #ff0000;">width</span><span style="color: #0000ff;">="25%"</span><span style="color: #0000ff;">&gt;</span>Category<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">th</span><span style="color: #0000ff;">&gt;</span><br>                <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">th </span><span style="color: #ff0000;">width</span><span style="color: #0000ff;">="25%"</span><span style="color: #0000ff;">&gt;</span>Product<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">th</span><span style="color: #0000ff;">&gt;</span><br>                <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">th </span><span style="color: #ff0000;">width</span><span style="color: #0000ff;">="15%"</span><span style="color: #ff0000;"> class</span><span style="color: #0000ff;">='price'</span><span style="color: #0000ff;">&gt;</span>Price<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">th</span><span style="color: #0000ff;">&gt;</span><br>                <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">th </span><span style="color: #ff0000;">width</span><span style="color: #0000ff;">="10%"</span><span style="color: #ff0000;"> class</span><span style="color: #0000ff;">='quantity'</span><span style="color: #0000ff;">&gt;</span>Quantity<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">th</span><span style="color: #0000ff;">&gt;</span><br>                <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">th </span><span style="color: #ff0000;">width</span><span style="color: #0000ff;">="15%"</span><span style="color: #ff0000;"> class</span><span style="color: #0000ff;">='price'</span><span style="color: #0000ff;">&gt;</span>Subtotal<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">th</span><span style="color: #0000ff;">&gt;</span><br>                <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">th </span><span style="color: #ff0000;">width</span><span style="color: #0000ff;">="10%"</span><span style="color: #0000ff;">&gt;&lt;/</span><span style="color: #800000;">th</span><span style="color: #0000ff;">&gt;</span><br>            <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">tr</span><span style="color: #0000ff;">&gt;</span><br>        <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">thead</span><span style="color: #0000ff;">&gt;</span><br>        <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">tbody </span><span style="color: #ff0000;">data-bind</span><span style="color: #0000ff;">='template: </span><span style="color: #ff0000;">{name: "cartRowTemplate", foreach: lines}'</span><span style="color: #0000ff;">&gt;</span><br>        <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">tbody</span><span style="color: #0000ff;">&gt;</span><br>    <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">table</span><span style="color: #0000ff;">&gt;</span><br>    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">p </span><span style="color: #ff0000;">class</span><span style="color: #0000ff;">="grandTotal"</span><span style="color: #0000ff;">&gt;</span><br>        Total value: <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">span </span><span style="color: #ff0000;">data-bind</span><span style="color: #0000ff;">="text: formatCurrency(grandTotal())"</span><span style="color: #0000ff;">&gt;&lt;/</span><span style="color: #800000;">span</span><span style="color: #0000ff;">&gt;</span><br>    <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">p</span><span style="color: #0000ff;">&gt;</span><br>    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">button </span><span style="color: #ff0000;">data-bind</span><span style="color: #0000ff;">="click: addLine"</span><span style="color: #0000ff;">&gt;</span><br>        Add product<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">button</span><span style="color: #0000ff;">&gt;</span><br>    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">button </span><span style="color: #ff0000;">data-bind</span><span style="color: #0000ff;">="click: save"</span><span style="color: #0000ff;">&gt;</span><br>        Submit order<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">button</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">div</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">script </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">="text/html"</span><span style="color: #ff0000;"> id</span><span style="color: #0000ff;">="cartRowTemplate"</span><span style="color: #0000ff;">&gt;</span><span style="background-color: #f5f5f5; color: #000000;"><br>   </span><span style="background-color: #f5f5f5; color: #000000;">&lt;</span><span style="background-color: #f5f5f5; color: #000000;">tr</span><span style="background-color: #f5f5f5; color: #000000;">&gt;</span><span style="background-color: #f5f5f5; color: #000000;"><br>        </span><span style="background-color: #f5f5f5; color: #000000;">&lt;</span><span style="background-color: #f5f5f5; color: #000000;">td</span><span style="background-color: #f5f5f5; color: #000000;">&gt;&lt;</span><span style="background-color: #f5f5f5; color: #000000;">select data</span><span style="background-color: #f5f5f5; color: #000000;">-</span><span style="background-color: #f5f5f5; color: #000000;">bind</span><span style="background-color: #f5f5f5; color: #000000;">=</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">options: sampleProductCategories, optionsText: "name", optionsCaption: "Select...", value: category</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">&gt;&lt;</span><span style="background-color: #f5f5f5; color: #000000;">/</span><span style="background-color: #f5f5f5; color: #000000;">select&gt;&lt;</span><span style="background-color: #f5f5f5; color: #000000;">/</span><span style="background-color: #f5f5f5; color: #000000;">td</span><span style="background-color: #f5f5f5; color: #000000;">&gt;</span><span style="background-color: #f5f5f5; color: #000000;"><br>        </span><span style="background-color: #f5f5f5; color: #000000;">&lt;</span><span style="background-color: #f5f5f5; color: #000000;">td</span><span style="background-color: #f5f5f5; color: #000000;">&gt;&lt;</span><span style="background-color: #f5f5f5; color: #000000;">select data</span><span style="background-color: #f5f5f5; color: #000000;">-</span><span style="background-color: #f5f5f5; color: #000000;">bind</span><span style="background-color: #f5f5f5; color: #000000;">=</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">visible: category, options: category() ? category().products : null, optionsText: "name", optionsCaption: "Select...", value: product</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">&gt;&lt;</span><span style="background-color: #f5f5f5; color: #000000;">/</span><span style="background-color: #f5f5f5; color: #000000;">select&gt;&lt;</span><span style="background-color: #f5f5f5; color: #000000;">/</span><span style="background-color: #f5f5f5; color: #000000;">td</span><span style="background-color: #f5f5f5; color: #000000;">&gt;</span><span style="background-color: #f5f5f5; color: #000000;"><br>        </span><span style="background-color: #f5f5f5; color: #000000;">&lt;</span><span style="background-color: #f5f5f5; color: #000000;">td class</span><span style="background-color: #f5f5f5; color: #000000;">=</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">price</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">&gt;&lt;</span><span style="background-color: #f5f5f5; color: #000000;">span data</span><span style="background-color: #f5f5f5; color: #000000;">-</span><span style="background-color: #f5f5f5; color: #000000;">bind</span><span style="background-color: #f5f5f5; color: #000000;">=</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">text: product() ? formatCurrency(product().price) : ""</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">&gt;&lt;</span><span style="background-color: #f5f5f5; color: #000000;">/</span><span style="background-color: #f5f5f5; color: #000000;">span&gt;&lt;</span><span style="background-color: #f5f5f5; color: #000000;">/</span><span style="background-color: #f5f5f5; color: #000000;">td</span><span style="background-color: #f5f5f5; color: #000000;">&gt;</span><span style="background-color: #f5f5f5; color: #000000;"><br>        </span><span style="background-color: #f5f5f5; color: #000000;">&lt;</span><span style="background-color: #f5f5f5; color: #000000;">td class</span><span style="background-color: #f5f5f5; color: #000000;">=</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">quantity</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">&gt;&lt;</span><span style="background-color: #f5f5f5; color: #000000;">input data</span><span style="background-color: #f5f5f5; color: #000000;">-</span><span style="background-color: #f5f5f5; color: #000000;">bind</span><span style="background-color: #f5f5f5; color: #000000;">=</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">visible: product, value: quantity, valueUpdate: "afterkeydown"</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">/</span><span style="background-color: #f5f5f5; color: #000000;">&gt;&lt;</span><span style="background-color: #f5f5f5; color: #000000;">/</span><span style="background-color: #f5f5f5; color: #000000;">td</span><span style="background-color: #f5f5f5; color: #000000;">&gt;</span><span style="background-color: #f5f5f5; color: #000000;"><br>        </span><span style="background-color: #f5f5f5; color: #000000;">&lt;</span><span style="background-color: #f5f5f5; color: #000000;">td class</span><span style="background-color: #f5f5f5; color: #000000;">=</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">price</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">&gt;&lt;</span><span style="background-color: #f5f5f5; color: #000000;">span data</span><span style="background-color: #f5f5f5; color: #000000;">-</span><span style="background-color: #f5f5f5; color: #000000;">bind</span><span style="background-color: #f5f5f5; color: #000000;">=</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">visible: product, text: formatCurrency(subtotal())</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">&gt;&lt;</span><span style="background-color: #f5f5f5; color: #000000;">/</span><span style="background-color: #f5f5f5; color: #000000;">span&gt;&lt;</span><span style="background-color: #f5f5f5; color: #000000;">/</span><span style="background-color: #f5f5f5; color: #000000;">td</span><span style="background-color: #f5f5f5; color: #000000;">&gt;</span><span style="background-color: #f5f5f5; color: #000000;"><br>        </span><span style="background-color: #f5f5f5; color: #000000;">&lt;</span><span style="background-color: #f5f5f5; color: #000000;">td</span><span style="background-color: #f5f5f5; color: #000000;">&gt;&lt;</span><span style="background-color: #f5f5f5; color: #000000;">a href</span><span style="background-color: #f5f5f5; color: #000000;">=</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">#</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;"> data</span><span style="background-color: #f5f5f5; color: #000000;">-</span><span style="background-color: #f5f5f5; color: #000000;">bind</span><span style="background-color: #f5f5f5; color: #000000;">=</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">click: function() { cartViewModel.removeLine($data) }</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">&gt;</span><span style="background-color: #f5f5f5; color: #000000;">Remove</span><span style="background-color: #f5f5f5; color: #000000;">&lt;</span><span style="background-color: #f5f5f5; color: #000000;">/</span><span style="background-color: #f5f5f5; color: #000000;">a&gt;&lt;</span><span style="background-color: #f5f5f5; color: #000000;">/</span><span style="background-color: #f5f5f5; color: #000000;">td</span><span style="background-color: #f5f5f5; color: #000000;">&gt;</span><span style="background-color: #f5f5f5; color: #000000;"><br>    </span><span style="background-color: #f5f5f5; color: #000000;">&lt;</span><span style="background-color: #f5f5f5; color: #000000;">/</span><span style="background-color: #f5f5f5; color: #000000;">tr&gt;</span><span style="background-color: #f5f5f5; color: #000000;"><br></span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">script</span><span style="color: #0000ff;">&gt;</span></pre>
</div>
</div>
<p><strong><br></strong></p>
<p><strong><strong>代码</strong>: View model</strong></p>
<div class="cnblogs_code" onclick="cnblogs_code_show(&#39;9f1a7ad9-c1f0-479d-9907-60ae70d9ce03&#39;)"><img id="code_img_closed_9f1a7ad9-c1f0-479d-9907-60ae70d9ce03" class="code_img_closed" src="./Knockout应用开发指南 第九章：高级应用举例 - 汤姆大叔 - 博客园_files/ContractedBlock.gif" alt=""><img id="code_img_opened_9f1a7ad9-c1f0-479d-9907-60ae70d9ce03" class="code_img_opened" style="display: none; " onclick="cnblogs_code_hide(&#39;9f1a7ad9-c1f0-479d-9907-60ae70d9ce03&#39;,event)" src="./Knockout应用开发指南 第九章：高级应用举例 - 汤姆大叔 - 博客园_files/ExpandedBlockStart.gif" alt=""><span class="cnblogs_code_collapse">View Code </span>
<div id="cnblogs_code_open_9f1a7ad9-c1f0-479d-9907-60ae70d9ce03" class="cnblogs_code_hide">
<pre><span style="color: #0000ff;">function</span> formatCurrency(value) { <span style="color: #0000ff;">return</span> "$" + value.toFixed(2); }<br><br><span style="color: #0000ff;">var</span> cartLine = <span style="color: #0000ff;">function</span> () {<br>    <span style="color: #0000ff;">this</span>.category = ko.observable();<br>    <span style="color: #0000ff;">this</span>.product = ko.observable();<br>    <span style="color: #0000ff;">this</span>.quantity = ko.observable(1);<br>    <span style="color: #0000ff;">this</span>.subtotal = ko.dependentObservable(<span style="color: #0000ff;">function</span> () {<br>        <span style="color: #0000ff;">return</span> <span style="color: #0000ff;">this</span>.product() ? <span style="color: #0000ff;">this</span>.product().price * parseInt("0" + <span style="color: #0000ff;">this</span>.quantity(), 10) : 0;<br>    } .bind(<span style="color: #0000ff;">this</span>));<br><br>    <span style="color: #008000;">//</span><span style="color: #008000;"> Whenever the category changes, reset the product selection</span><span style="color: #008000;"><br></span>    <span style="color: #0000ff;">this</span>.category.subscribe(<span style="color: #0000ff;">function</span> () { <span style="color: #0000ff;">this</span>.product(undefined); } .bind(<span style="color: #0000ff;">this</span>));<br>};<br><br><span style="color: #0000ff;">var</span> cart = <span style="color: #0000ff;">function</span> () {<br>    <span style="color: #008000;">//</span><span style="color: #008000;"> Stores an array of lines, and from these, can work out the grandTotal</span><span style="color: #008000;"><br></span>    <span style="color: #0000ff;">this</span>.lines = ko.observableArray([<span style="color: #0000ff;">new</span> cartLine()]);   <span style="color: #008000;">//</span><span style="color: #008000;"> Put one line in by default    </span><span style="color: #008000;"><br></span>    <span style="color: #0000ff;">this</span>.grandTotal = ko.dependentObservable(<span style="color: #0000ff;">function</span> () {<br>        <span style="color: #0000ff;">var</span> total = 0;<br>        <span style="color: #0000ff;">for</span> (<span style="color: #0000ff;">var</span> i = 0; i &lt; <span style="color: #0000ff;">this</span>.lines().length; i++)<br>            total += <span style="color: #0000ff;">this</span>.lines()[i].subtotal();<br>        <span style="color: #0000ff;">return</span> total;<br>    } .bind(<span style="color: #0000ff;">this</span>));<br>        <br>    <span style="color: #008000;">//</span><span style="color: #008000;"> Operations</span><span style="color: #008000;"><br></span>    <span style="color: #0000ff;">this</span>.addLine = <span style="color: #0000ff;">function</span> () { <span style="color: #0000ff;">this</span>.lines.push(<span style="color: #0000ff;">new</span> cartLine()) };<br>    <span style="color: #0000ff;">this</span>.removeLine = <span style="color: #0000ff;">function</span> (line) { <span style="color: #0000ff;">this</span>.lines.remove(line) };<br><br>    <span style="color: #0000ff;">this</span>.save = <span style="color: #0000ff;">function</span> () {<br>        <span style="color: #0000ff;">var</span> dataToSave = $.map(<span style="color: #0000ff;">this</span>.lines(), <span style="color: #0000ff;">function</span> (line) {<br>            <span style="color: #0000ff;">return</span> line.product() ? { productName: line.product().name, quantity: line.quantity()} : undefined<br>        });<br><br>        alert("Could now send this to server: " + JSON.stringify(dataToSave));<br>    };<br>};<br><br><span style="color: #0000ff;">var</span> cartViewModel = <span style="color: #0000ff;">new</span> cart();<br><br>ko.applyBindings(cartViewModel, document.getElementById("cartEditor"));</pre>
</div>
</div>
<h3>&nbsp;</h3>
<h3>4&nbsp;&nbsp; Twitter client</h3>
<p>这是一个复杂的例子，展示了几乎所有Knockout特性来构建一个富客户端。</p>
<p>用户数据存在一个JavaScript模型里，通过模板来展示。就是说我们可以通过清理用户列表里的数据来达到隐藏用户信息的目的，而不需要手动去隐藏DOM元素。</p>
<p>按钮将根据他们是否可操作来自动变成enabled或disabled状态。例如，有一个叫hasUnsavedChanges的依赖监控属性（dependentObservable）控制这“Save”按钮的enabled状态。</p>
<p>可以非常方便地从外部JSON服务获取数据，并集成到view model里，然后显示在页面上。</p>
<p><img src="./Knockout应用开发指南 第九章：高级应用举例 - 汤姆大叔 - 博客园_files/2011112113303890.png" alt=""></p>
<p>&nbsp;</p>
<p><strong><strong>代码</strong>: View</strong></p>
<div class="cnblogs_code" onclick="cnblogs_code_show(&#39;5e576ded-4650-41c0-81a4-619c80981444&#39;)"><img id="code_img_closed_5e576ded-4650-41c0-81a4-619c80981444" class="code_img_closed" src="./Knockout应用开发指南 第九章：高级应用举例 - 汤姆大叔 - 博客园_files/ContractedBlock.gif" alt=""><img id="code_img_opened_5e576ded-4650-41c0-81a4-619c80981444" class="code_img_opened" style="display: none; " onclick="cnblogs_code_hide(&#39;5e576ded-4650-41c0-81a4-619c80981444&#39;,event)" src="./Knockout应用开发指南 第九章：高级应用举例 - 汤姆大叔 - 博客园_files/ExpandedBlockStart.gif" alt=""><span class="cnblogs_code_collapse">View Code </span>
<div id="cnblogs_code_open_5e576ded-4650-41c0-81a4-619c80981444" class="cnblogs_code_hide">
<pre><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">div </span><span style="color: #ff0000;">class</span><span style="color: #0000ff;">="loadingIndicator"</span><span style="color: #0000ff;">&gt;</span><br>    Loading...<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">div</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">div </span><span style="color: #ff0000;">class</span><span style="color: #0000ff;">="configuration"</span><span style="color: #0000ff;">&gt;</span><br>    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">div </span><span style="color: #ff0000;">class</span><span style="color: #0000ff;">="listChooser"</span><span style="color: #0000ff;">&gt;</span><br>        <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">button </span><span style="color: #ff0000;">data-bind</span><span style="color: #0000ff;">='click: </span><span style="color: #ff0000;">deleteList, enable: editingList.name'</span><span style="color: #0000ff;">&gt;</span><br>            Delete<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">button</span><span style="color: #0000ff;">&gt;</span><br>        <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">button </span><span style="color: #ff0000;">data-bind</span><span style="color: #0000ff;">='click: </span><span style="color: #ff0000;">saveChanges, enable: hasUnsavedChanges'</span><span style="color: #0000ff;">&gt;</span><br>            Save<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">button</span><span style="color: #0000ff;">&gt;</span><br>        <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">select </span><span style="color: #ff0000;">data-bind</span><span style="color: #0000ff;">='options: </span><span style="color: #ff0000;">savedLists, optionsValue: "name", value: editingList.name'</span><span style="color: #0000ff;">&gt;</span><br>        <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">select</span><span style="color: #0000ff;">&gt;</span><br>    <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">div</span><span style="color: #0000ff;">&gt;</span><br>    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">p</span><span style="color: #0000ff;">&gt;</span><br>        Currently viewing <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">span </span><span style="color: #ff0000;">data-bind</span><span style="color: #0000ff;">="text: editingList.userNames().length"</span><span style="color: #0000ff;">&gt;</span><span style="color: #ff0000;">&amp;nbsp;</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">span</span><span style="color: #0000ff;">&gt;</span><br>        user(s):<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">p</span><span style="color: #0000ff;">&gt;</span><br>    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">div </span><span style="color: #ff0000;">class</span><span style="color: #0000ff;">="currentUsers"</span><span style="color: #ff0000;"> data-bind</span><span style="color: #0000ff;">='template: </span><span style="color: #ff0000;">{ name: "usersTemplate", data: editingList }'</span><span style="color: #0000ff;">&gt;</span><br>    <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">div</span><span style="color: #0000ff;">&gt;</span><br>    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">form </span><span style="color: #ff0000;">data-bind</span><span style="color: #0000ff;">="submit: addUser"</span><span style="color: #0000ff;">&gt;</span><br>    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">label</span><span style="color: #0000ff;">&gt;</span><br>        Add user:<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">label</span><span style="color: #0000ff;">&gt;</span><br>    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">input </span><span style="color: #ff0000;">data-bind</span><span style="color: #0000ff;">='value: </span><span style="color: #ff0000;">userNameToAdd, valueUpdate: "keyup", css: { invalid: !userNameToAddIsValid() }' </span><span style="color: #0000ff;">/&gt;</span><br>    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">button </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">="submit"</span><span style="color: #ff0000;"> data-bind</span><span style="color: #0000ff;">='enable: </span><span style="color: #ff0000;">userNameToAddIsValid() &amp;&amp; userNameToAdd() !</span><span style="color: #0000ff;">= ""</span><span style="color: #ff0000;">'</span><span style="color: #0000ff;">&gt;</span><br>        Add<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">button</span><span style="color: #0000ff;">&gt;</span><br>    <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">form</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">div</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">div </span><span style="color: #ff0000;">class</span><span style="color: #0000ff;">="tweets"</span><span style="color: #ff0000;"> data-bind</span><span style="color: #0000ff;">='template: </span><span style="color: #ff0000;">{ name: "tweetsTemplate", data: currentTweets }'</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">div</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">script </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">="text/html"</span><span style="color: #ff0000;"> id</span><span style="color: #0000ff;">="tweetsTemplate"</span><span style="color: #0000ff;">&gt;</span><span style="background-color: #f5f5f5; color: #000000;"><br>    </span><span style="background-color: #f5f5f5; color: #000000;">&lt;</span><span style="background-color: #f5f5f5; color: #000000;">table width</span><span style="background-color: #f5f5f5; color: #000000;">=</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">100%</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">&gt;</span><span style="background-color: #f5f5f5; color: #000000;"><br>        {{each $data}}<br>            </span><span style="background-color: #f5f5f5; color: #000000;">&lt;</span><span style="background-color: #f5f5f5; color: #000000;">tr</span><span style="background-color: #f5f5f5; color: #000000;">&gt;</span><span style="background-color: #f5f5f5; color: #000000;"><br>                </span><span style="background-color: #f5f5f5; color: #000000;">&lt;</span><span style="background-color: #f5f5f5; color: #000000;">td</span><span style="background-color: #f5f5f5; color: #000000;">&gt;&lt;</span><span style="background-color: #f5f5f5; color: #000000;">img src</span><span style="background-color: #f5f5f5; color: #000000;">=</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">${ profile_image_url }</span><span style="background-color: #f5f5f5; color: #000000;">"/</span><span style="background-color: #f5f5f5; color: #000000;">&gt;&lt;</span><span style="background-color: #f5f5f5; color: #000000;">/</span><span style="background-color: #f5f5f5; color: #000000;">td</span><span style="background-color: #f5f5f5; color: #000000;">&gt;</span><span style="background-color: #f5f5f5; color: #000000;"><br>                </span><span style="background-color: #f5f5f5; color: #000000;">&lt;</span><span style="background-color: #f5f5f5; color: #000000;">td</span><span style="background-color: #f5f5f5; color: #000000;">&gt;</span><span style="background-color: #f5f5f5; color: #000000;"><br>                    </span><span style="background-color: #f5f5f5; color: #000000;">&lt;</span><span style="background-color: #f5f5f5; color: #000000;">a class</span><span style="background-color: #f5f5f5; color: #000000;">=</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">twitterUser</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;"> href</span><span style="background-color: #f5f5f5; color: #000000;">=</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">http://twitter.com/${ from_user }</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">&gt;</span><span style="background-color: #f5f5f5; color: #000000;">${ from_user }</span><span style="background-color: #f5f5f5; color: #000000;">&lt;</span><span style="background-color: #f5f5f5; color: #000000;">/</span><span style="background-color: #f5f5f5; color: #000000;">a&gt;</span><span style="background-color: #f5f5f5; color: #000000;"><br></span><span style="background-color: #f5f5f5; color: #000000;">                    ${ text }<br>                    </span><span style="background-color: #f5f5f5; color: #000000;">&lt;</span><span style="background-color: #f5f5f5; color: #000000;">div class</span><span style="background-color: #f5f5f5; color: #000000;">=</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">tweetInfo</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">&gt;</span><span style="background-color: #f5f5f5; color: #000000;">${ created_at }</span><span style="background-color: #f5f5f5; color: #000000;">&lt;</span><span style="background-color: #f5f5f5; color: #000000;">/</span><span style="background-color: #f5f5f5; color: #000000;">div&gt;</span><span style="background-color: #f5f5f5; color: #000000;"><br></span><span style="background-color: #f5f5f5; color: #000000;">&lt;</span><span style="background-color: #f5f5f5; color: #000000;">/</span><span style="background-color: #f5f5f5; color: #000000;">td&gt;</span><span style="background-color: #f5f5f5; color: #000000;"><br></span><span style="background-color: #f5f5f5; color: #000000;">&lt;</span><span style="background-color: #f5f5f5; color: #000000;">/</span><span style="background-color: #f5f5f5; color: #000000;">tr&gt;</span><span style="background-color: #f5f5f5; color: #000000;"><br></span><span style="background-color: #f5f5f5; color: #000000;">        {{</span><span style="background-color: #f5f5f5; color: #000000;">/</span><span style="background-color: #f5f5f5; color: #000000;">each}}</span><span style="background-color: #f5f5f5; color: #000000;"><br></span><span style="background-color: #f5f5f5; color: #000000;">&lt;</span><span style="background-color: #f5f5f5; color: #000000;">/</span><span style="background-color: #f5f5f5; color: #000000;">table&gt;</span><span style="background-color: #f5f5f5; color: #000000;"><br></span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">script</span><span style="color: #0000ff;">&gt;</span><br><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">script </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">="text/html"</span><span style="color: #ff0000;"> id</span><span style="color: #0000ff;">="usersTemplate"</span><span style="color: #0000ff;">&gt;</span><span style="background-color: #f5f5f5; color: #000000;"><br>    </span><span style="background-color: #f5f5f5; color: #000000;">&lt;</span><span style="background-color: #f5f5f5; color: #000000;">ul</span><span style="background-color: #f5f5f5; color: #000000;">&gt;</span><span style="background-color: #f5f5f5; color: #000000;"><br>        {{each(i, userName) userNames()}}<br>            </span><span style="background-color: #f5f5f5; color: #000000;">&lt;</span><span style="background-color: #f5f5f5; color: #000000;">li</span><span style="background-color: #f5f5f5; color: #000000;">&gt;&lt;</span><span style="background-color: #f5f5f5; color: #000000;">button data</span><span style="background-color: #f5f5f5; color: #000000;">-</span><span style="background-color: #f5f5f5; color: #000000;">bind</span><span style="background-color: #f5f5f5; color: #000000;">=</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">click: function() { userNames.remove(userName) }</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">&gt;</span><span style="background-color: #f5f5f5; color: #000000;">Remove</span><span style="background-color: #f5f5f5; color: #000000;">&lt;</span><span style="background-color: #f5f5f5; color: #000000;">/</span><span style="background-color: #f5f5f5; color: #000000;">button&gt; &lt;div&gt;${ userName }&lt;</span><span style="background-color: #f5f5f5; color: #000000;">/</span><span style="background-color: #f5f5f5; color: #000000;">div</span><span style="background-color: #f5f5f5; color: #000000;">&gt;&lt;</span><span style="background-color: #f5f5f5; color: #000000;">/</span><span style="background-color: #f5f5f5; color: #000000;">li&gt;</span><span style="background-color: #f5f5f5; color: #000000;"><br></span><span style="background-color: #f5f5f5; color: #000000;">        {{</span><span style="background-color: #f5f5f5; color: #000000;">/</span><span style="background-color: #f5f5f5; color: #000000;">each}}</span><span style="background-color: #f5f5f5; color: #000000;"><br></span><span style="background-color: #f5f5f5; color: #000000;">&lt;</span><span style="background-color: #f5f5f5; color: #000000;">/</span><span style="background-color: #f5f5f5; color: #000000;">ul&gt;</span><span style="background-color: #f5f5f5; color: #000000;"><br></span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">script</span><span style="color: #0000ff;">&gt;</span></pre>
</div>
</div>
<p><strong><br></strong></p>
<p><strong><strong>代码</strong>: View model</strong></p>
<div class="cnblogs_code" onclick="cnblogs_code_show(&#39;b90b7f38-8b19-423c-b182-dbace9f5b218&#39;)"><img id="code_img_closed_b90b7f38-8b19-423c-b182-dbace9f5b218" class="code_img_closed" src="./Knockout应用开发指南 第九章：高级应用举例 - 汤姆大叔 - 博客园_files/ContractedBlock.gif" alt=""><img id="code_img_opened_b90b7f38-8b19-423c-b182-dbace9f5b218" class="code_img_opened" style="display: none; " onclick="cnblogs_code_hide(&#39;b90b7f38-8b19-423c-b182-dbace9f5b218&#39;,event)" src="./Knockout应用开发指南 第九章：高级应用举例 - 汤姆大叔 - 博客园_files/ExpandedBlockStart.gif" alt=""><span class="cnblogs_code_collapse">View Code </span>
<div id="cnblogs_code_open_b90b7f38-8b19-423c-b182-dbace9f5b218" class="cnblogs_code_hide">
<pre><span style="color: #008000;">//</span><span style="color: #008000;"> The view model holds all the state we're working with. It also has methods that can edit it, and it uses</span><span style="color: #008000;"><br>//</span><span style="color: #008000;"> dependentObservables to compute more state in terms of the underlying data</span><span style="color: #008000;"><br>//</span><span style="color: #008000;"> --</span><span style="color: #008000;"><br>//</span><span style="color: #008000;"> The view (i.e., the HTML UI) binds to this using data-bind attributes, so it always stays up-to-date with</span><span style="color: #008000;"><br>//</span><span style="color: #008000;"> the view model, even though the view model does not know or care about any view that binds to it</span><span style="color: #008000;"><br></span><br><span style="color: #0000ff;">var</span> viewModel = {<br>    savedLists: ko.observableArray([<br>        { name: "Celebrities", userNames: ['JohnCleese', 'MCHammer', 'StephenFry', 'algore', 'StevenSanderson'] },<br>        { name: "Microsoft people", userNames: ['BillGates', 'shanselman', 'haacked', 'ScottGu'] },<br>        { name: "Tech pundits", userNames: ['Scobleizer', 'LeoLaporte', 'techcrunch', 'BoingBoing', 'timoreilly', 'codinghorror'] }<br>    ]),<br><br>    editingList: {<br>        name: ko.observable("Tech pundits"),<br>        userNames: ko.observableArray()<br>    },<br><br>    userNameToAdd: ko.observable(""),<br>    currentTweets: ko.observableArray([])<br>};<br><br>viewModel.findSavedList = <span style="color: #0000ff;">function</span> (name) {<br>    <span style="color: #0000ff;">var</span> lists = <span style="color: #0000ff;">this</span>.savedLists();<br><br>    <span style="color: #0000ff;">for</span> (<span style="color: #0000ff;">var</span> i = 0; i &lt; lists.length; i++)<br>        <span style="color: #0000ff;">if</span> (lists[i].name === name)<br>            <span style="color: #0000ff;">return</span> lists[i];<br>};<br><br><span style="color: #008000;">//</span><span style="color: #008000;"> Methods</span><span style="color: #008000;"><br></span>viewModel.addUser = <span style="color: #0000ff;">function</span> () {<br>    <span style="color: #0000ff;">if</span> (<span style="color: #0000ff;">this</span>.userNameToAdd() &amp;&amp; <span style="color: #0000ff;">this</span>.userNameToAddIsValid()) {<br>        <span style="color: #0000ff;">this</span>.editingList.userNames.push(<span style="color: #0000ff;">this</span>.userNameToAdd());<br>        <span style="color: #0000ff;">this</span>.userNameToAdd("");<br>    }<br>}<br><br>viewModel.saveChanges = <span style="color: #0000ff;">function</span> () {<br>    <span style="color: #0000ff;">var</span> saveAs = prompt("Save as", <span style="color: #0000ff;">this</span>.editingList.name());<br><br>    <span style="color: #0000ff;">if</span> (saveAs) {<br>        <span style="color: #0000ff;">var</span> dataToSave = <span style="color: #0000ff;">this</span>.editingList.userNames().slice(0);<br>        <span style="color: #0000ff;">var</span> existingSavedList = <span style="color: #0000ff;">this</span>.findSavedList(saveAs);<br>        <span style="color: #0000ff;">if</span> (existingSavedList)<br>            existingSavedList.userNames = dataToSave; <span style="color: #008000;">//</span><span style="color: #008000;"> Overwrite existing list</span><span style="color: #008000;"><br></span>        <span style="color: #0000ff;">else</span><br>            <span style="color: #0000ff;">this</span>.savedLists.push({ name: saveAs, userNames: dataToSave }); <span style="color: #008000;">//</span><span style="color: #008000;"> Add new list</span><span style="color: #008000;"><br></span><br>        <span style="color: #0000ff;">this</span>.editingList.name(saveAs);<br>    }<br>}<br><br>viewModel.deleteList = <span style="color: #0000ff;">function</span> () {<br>    <span style="color: #0000ff;">var</span> nameToDelete = <span style="color: #0000ff;">this</span>.editingList.name();<br>    <span style="color: #0000ff;">var</span> savedListsExceptOneToDelete = $.grep(<span style="color: #0000ff;">this</span>.savedLists(), <span style="color: #0000ff;">function</span> (list) { <span style="color: #0000ff;">return</span> list.name != nameToDelete });<br>    <span style="color: #0000ff;">this</span>.editingList.name(savedListsExceptOneToDelete.length == 0 ? <span style="color: #0000ff;">null</span> : savedListsExceptOneToDelete[0].name);<br>    <span style="color: #0000ff;">this</span>.savedLists(savedListsExceptOneToDelete);<br>};<br><br>ko.dependentObservable(<span style="color: #0000ff;">function</span> () {<br>    <span style="color: #008000;">//</span><span style="color: #008000;"> Observe viewModel.editingList.name(), so when it changes (i.e., user selects a different list) we know to copy the saved list into the editing list</span><span style="color: #008000;"><br></span>    <span style="color: #0000ff;">var</span> savedList = viewModel.findSavedList(viewModel.editingList.name());<br><br>    <span style="color: #0000ff;">if</span> (savedList) {<br>        <span style="color: #0000ff;">var</span> userNamesCopy = savedList.userNames.slice(0);<br>        viewModel.editingList.userNames(userNamesCopy);<br>    } <span style="color: #0000ff;">else</span><br>        viewModel.editingList.userNames([]);<br>});<br><br>viewModel.hasUnsavedChanges = ko.dependentObservable(<span style="color: #0000ff;">function</span> () {<br>    <span style="color: #0000ff;">if</span> (!<span style="color: #0000ff;">this</span>.editingList.name())<br>        <span style="color: #0000ff;">return</span> <span style="color: #0000ff;">this</span>.editingList.userNames().length &gt; 0;<br><br>    <span style="color: #0000ff;">var</span> savedData = <span style="color: #0000ff;">this</span>.findSavedList(<span style="color: #0000ff;">this</span>.editingList.name()).userNames;<br>    <span style="color: #0000ff;">var</span> editingData = <span style="color: #0000ff;">this</span>.editingList.userNames();<br>    <span style="color: #0000ff;">return</span> savedData.join("|") != editingData.join("|");<br>}, viewModel);<br><br>viewModel.userNameToAddIsValid = ko.dependentObservable(<span style="color: #0000ff;">function</span> () {<br>    <span style="color: #0000ff;">return</span> (<span style="color: #0000ff;">this</span>.userNameToAdd() == "") || (<span style="color: #0000ff;">this</span>.userNameToAdd().match(/^\s*[a-zA-Z0-9_]{1,15}\s*$/) != <span style="color: #0000ff;">null</span>);<br>}, viewModel);<br><br><span style="color: #008000;">//</span><span style="color: #008000;"> The active user tweets are (asynchronously) computed from editingList.userNames</span><span style="color: #008000;"><br></span>ko.dependentObservable(<span style="color: #0000ff;">function</span> () {<br>    twitterApi.getTweetsForUsers(<span style="color: #0000ff;">this</span>.editingList.userNames(), <span style="color: #0000ff;">function</span> (data) { viewModel.currentTweets(data) })<br>}, viewModel);<br><br>ko.applyBindings(viewModel);<br><br><span style="color: #008000;">//</span><span style="color: #008000;"> Using jQuery for Ajax loading indicator - nothing to do with Knockout</span><span style="color: #008000;"><br></span>$(".loadingIndicator").ajaxStart(<span style="color: #0000ff;">function</span> () { $(<span style="color: #0000ff;">this</span>).fadeIn(); })<br>                      .ajaxComplete(<span style="color: #0000ff;">function</span> () { $(<span style="color: #0000ff;">this</span>).fadeOut(); });</pre>
</div>
</div>
<p><strong><br><br></strong></p></div><div id="MySignature"></div>
        
<div class="clear"></div>
<div id="blog_post_info_block">
<div id="blog_post_info"><div id="BlogPostCategory">分类: <a href="http://www.cnblogs.com/TomXu/category/336771.html">[08]Knockout</a></div>
<div id="EntryTag">标签: <a href="http://www.cnblogs.com/TomXu/tag/Knockout/">Knockout</a>, <a href="http://www.cnblogs.com/TomXu/tag/asp.net%20MVC/">asp.net MVC</a>, <a href="http://www.cnblogs.com/TomXu/tag/JavaScript/">JavaScript</a>, <a href="http://www.cnblogs.com/TomXu/tag/MVVM/">MVVM</a>, <a href="http://www.cnblogs.com/TomXu/tag/ViewModel/">ViewModel</a>, <a href="http://www.cnblogs.com/TomXu/tag/jQuery/">jQuery</a></div>
<div id="green_channel">
绿色通道：
<a href="javascript:void(0);" id="green_channel_digg" onclick="DiggIt(cb_entryId,cb_blogId,1);green_channel_success(this,&#39;谢谢推荐！&#39;);">好文要顶</a>
<a id="green_channel_follow" onclick="c_follow();" href="javascript:void(0);">关注我</a>
<a id="green_channel_favorite" onclick="AddToWz(cb_entryId);return false;" href="javascript:void(0);">收藏该文</a><a id="green_channel_contact" href="http://space.cnblogs.com/msg/send/%e6%b1%a4%e5%a7%86%e5%a4%a7%e5%8f%94" target="_blank">与我联系</a>
<a id="green_channel_weibo" href="javascript:void(0);" title="分享至新浪微博" onclick="ShareToTsina()"><img src="./Knockout应用开发指南 第九章：高级应用举例 - 汤姆大叔 - 博客园_files/icon_weibo_24.png" alt=""></a>
</div>
<div id="digg_block">
<div id="author_profile">
<div id="author_profile_info" class="author_profile_info">
<a href="http://home.cnblogs.com/u/TomXu/" target="_blank"><img src="./Knockout应用开发指南 第九章：高级应用举例 - 汤姆大叔 - 博客园_files/u349491.jpg" class="author_avatar" alt=""></a>
<div id="author_profile_detail" class="author_profile_info">
<a href="http://home.cnblogs.com/u/TomXu/">汤姆大叔</a><br>
<a href="http://home.cnblogs.com/u/TomXu/followees">关注 - 19</a><br>
<a href="http://home.cnblogs.com/u/TomXu/followers">粉丝 - 4759</a>
</div>
</div>
<div class="clear"></div>
<div id="author_profile_honor">荣誉：<a href="http://www.cnblogs.com/expert/" target="_blank">推荐博客</a></div>
<div id="author_profile_follow">
<a href="javascript:void(0);" onclick="c_follow();return false;">+加关注</a>
</div>
</div>
<div id="div_digg">										
	<div class="diggit" onclick="votePost(cb_entryId,&#39;Digg&#39;)"> 
		<span class="diggnum" id="digg_count">11</span>
	</div>
	<div class="buryit" onclick="votePost(cb_entryId,&#39;Bury&#39;)"> 
		<span class="burynum" id="bury_count">0</span>
	</div>
	<div class="clear"></div>	
	<div class="diggword" id="digg_tips">
    (请您对文章做出评价)
    </div>	
</div>
</div></div>
<div class="clear"></div>
<div id="post_next_prev"><a href="http://www.cnblogs.com/TomXu/archive/2011/12/02/2263196.html" class="p_n_p_prefix">« </a> 上一篇：<a href="http://www.cnblogs.com/TomXu/archive/2011/12/02/2263196.html" title="发布于2011-12-02 09:05">微软ASP.NET站点部署指南（10）：迁移至SQL Server</a><br><a href="http://www.cnblogs.com/TomXu/archive/2011/12/03/2274641.html" class="p_n_p_prefix">» </a> 下一篇：<a href="http://www.cnblogs.com/TomXu/archive/2011/12/03/2274641.html" title="发布于2011-12-03 13:54">大叔手记（1）：使用Visual Studio的查找与替换替代默认的系统搜索</a><br></div>
</div>


    </div>    
    <ul class="postmetadata">
        <li id="ctl01_liCate" class="icon_cat"><strong>Categories: </strong>
            <a href="http://www.cnblogs.com/TomXu/category/336771.html">[08]Knockout</a>            
        </li>
        <li id="ctl01_liTag" class="icon_bullet"><strong>Tags: </strong>
            <a href="http://www.cnblogs.com/TomXu/tag/Knockout/">Knockout</a>, <a href="http://www.cnblogs.com/TomXu/tag/asp.net+MVC/">asp.net MVC</a>, <a href="http://www.cnblogs.com/TomXu/tag/JavaScript/">JavaScript</a>, <a href="http://www.cnblogs.com/TomXu/tag/MVVM/">MVVM</a>, <a href="http://www.cnblogs.com/TomXu/tag/ViewModel/">ViewModel</a>, <a href="http://www.cnblogs.com/TomXu/tag/jQuery/">jQuery</a>
        </li>        
    </ul>
</div>
<script type="text/javascript">var allowComments=true,isLogined=false,cb_blogId=101461,cb_entryId=2257107,cb_blogApp=currentBlogApp,cb_blogUserGuid='65b02d3c-5b0b-e111-b7b9-842b2b196315',cb_entryCreatedDate='2011/12/2 15:04:00';loadViewCount(cb_entryId);</script>
<script type="text/javascript">
    var m = window.__blog.postRendered;
    if (m) { m(__$("post")); }
</script>

<script type="text/javascript">
    var m = window.__blog.postRenderPosts;
    if (m) { m(); }
</script><a name="!comments"></a><div id="blog-comments-placeholder"><div id="comments_pager_top"></div>
<a class="addcomment" href="http://www.cnblogs.com/TomXu/archive/2011/12/02/2257107.html#comment_tip">Add your comment</a>
<h3 id="comments"></h3>
<div class="feedbackNoItems"></div>


<ol class="commentlist" id="commentList">	

		<li class="alt">
			<h5>
				<cite><a href="http://www.cnblogs.com/TomXu/archive/2011/12/02/2257107.html#2259570" class="layer">#1楼</a><a name="2259570" id="comment_anchor_2259570"></a></cite> <a id="a_comment_author_2259570" href="http://home.cnblogs.com/u/282211/" target="_blank">花ル未☆眠</a> <a href="http://space.cnblogs.com/msg/send/%e8%8a%b1%e3%83%ab%e6%9c%aa%e2%98%86%e7%9c%a0" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><small> <span class="comment_date">2011-12-02 15:43</span></small>
			</h5>
			<div id="comment_body_2259570" class="blog_comment_body">你这头像太戳了。。换个把。影响我们阅读你发的文章</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2259570,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2259570,&#39;Bury&#39;,this)">反对(0)</a></div>
			<div class="opt_comment"><span class="comment_actions"></span></div>
		</li>
	
		<li class="alt">
			<h5>
				<cite><a href="http://www.cnblogs.com/TomXu/archive/2011/12/02/2257107.html#2259573" class="layer">#2楼</a><a name="2259573" id="comment_anchor_2259573"></a></cite> <a id="a_comment_author_2259573" href="http://home.cnblogs.com/u/282211/" target="_blank">花ル未☆眠</a> <a href="http://space.cnblogs.com/msg/send/%e8%8a%b1%e3%83%ab%e6%9c%aa%e2%98%86%e7%9c%a0" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><small> <span class="comment_date">2011-12-02 15:45</span></small>
			</h5>
			<div id="comment_body_2259573" class="blog_comment_body">还有建议你发的文章、尽然避免英文版的工具，你要照顾下英文不是那么好的同学，嘎嘎</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2259573,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2259573,&#39;Bury&#39;,this)">反对(0)</a></div>
			<div class="opt_comment"><span class="comment_actions"></span></div>
		</li>
	
		<li class="alt">
			<h5>
				<cite><a href="http://www.cnblogs.com/TomXu/archive/2011/12/02/2257107.html#2259619" class="layer">#3楼</a><a name="2259619" id="comment_anchor_2259619"></a>[<span class="louzhu">楼主</span>]</cite> <a id="a_comment_author_2259619" href="http://www.cnblogs.com/TomXu/" target="_blank">汤姆大叔</a> <a href="http://space.cnblogs.com/msg/send/%e6%b1%a4%e5%a7%86%e5%a4%a7%e5%8f%94" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><small> <span class="comment_date">2011-12-02 16:28</span></small>
			</h5>
			<div id="comment_body_2259619" class="blog_comment_body"><fieldset class="comment_quote"><legend><a href="http://www.cnblogs.com/TomXu/archive/2011/12/02/2257107.html#2259573" title="查看引用原文">引用</a></legend>花ル未☆眠：还有建议你发的文章、尽然避免英文版的工具，你要照顾下英文不是那么好的同学，嘎嘎</fieldset><br>部门规定，所有机器都得是英文环境，搜狗输入法都是特例才让安装的，咋办呢？<br>另外，回家再招个漂亮的头像上来。</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2259619,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2259619,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_2259619_avatar" style="display:none;">http://pic.cnitblog.com/face/u349491.jpg?id=02230504</span>
			<div class="opt_comment"><span class="comment_actions"></span></div>
		</li>
	
		<li class="alt">
			<h5>
				<cite><a href="http://www.cnblogs.com/TomXu/archive/2011/12/02/2257107.html#2259625" class="layer">#4楼</a><a name="2259625" id="comment_anchor_2259625"></a></cite> <a id="a_comment_author_2259625" href="http://home.cnblogs.com/u/282211/" target="_blank">花ル未☆眠</a> <a href="http://space.cnblogs.com/msg/send/%e8%8a%b1%e3%83%ab%e6%9c%aa%e2%98%86%e7%9c%a0" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><small> <span class="comment_date">2011-12-02 16:35</span></small>
			</h5>
			<div id="comment_body_2259625" class="blog_comment_body">嘎嘎，这么严格！！！那我克服一下把！头像的确应该换一个&gt;_&lt;，博文杠杠的。。嘎嘎</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2259625,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2259625,&#39;Bury&#39;,this)">反对(0)</a></div>
			<div class="opt_comment"><span class="comment_actions"></span></div>
		</li>
	
		<li class="alt">
			<h5>
				<cite><a href="http://www.cnblogs.com/TomXu/archive/2011/12/02/2257107.html#2263275" class="layer">#5楼</a><a name="2263275" id="comment_anchor_2263275"></a></cite> <a id="a_comment_author_2263275" href="http://www.cnblogs.com/darkli/" target="_blank">Dark.Li</a> <a href="http://space.cnblogs.com/msg/send/Dark.Li" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><small> <span class="comment_date">2011-12-06 16:39</span></small>
			</h5>
			<div id="comment_body_2263275" class="blog_comment_body">厉害呀，大叔</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2263275,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2263275,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_2263275_avatar" style="display:none;">http://pic.cnitblog.com/face/u153830.png?id=15101926</span>
			<div class="opt_comment"><span class="comment_actions"></span></div>
		</li>
	
		<li class="alt">
			<h5>
				<cite><a href="http://www.cnblogs.com/TomXu/archive/2011/12/02/2257107.html#2311010" class="layer">#6楼</a><a name="2311010" id="comment_anchor_2311010"></a></cite> <a id="a_comment_author_2311010" href="http://www.cnblogs.com/Skyzi/" target="_blank">Skyzi</a> <a href="http://space.cnblogs.com/msg/send/Skyzi" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><small> <span class="comment_date">2012-02-17 15:39</span></small>
			</h5>
			<div id="comment_body_2311010" class="blog_comment_body">大叔，这个系列写得真是急时又好<br>我这里想请教你一个问题，就是当我有一个是主从表的业务操作时，我要怎么实现呢？望指教！Email:ptz19@126.com</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2311010,&#39;Digg&#39;,this)">支持(1)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2311010,&#39;Bury&#39;,this)">反对(0)</a></div>
			<div class="opt_comment"><span class="comment_actions"></span></div>
		</li>
	
		<li class="alt">
			<h5>
				<cite><a href="http://www.cnblogs.com/TomXu/archive/2011/12/02/2257107.html#2446797" class="layer">#7楼</a><a name="2446797" id="comment_anchor_2446797"></a></cite> <a id="a_comment_author_2446797" href="http://www.cnblogs.com/blackice/" target="_blank">黑冰.org</a> <a href="http://space.cnblogs.com/msg/send/%e9%bb%91%e5%86%b0.org" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><small> <span class="comment_date">2012-08-11 22:45</span></small>
			</h5>
			<div id="comment_body_2446797" class="blog_comment_body"><a href="http://www.cnblogs.com/TomXu/archive/2011/12/02/2257107.html#2311010" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,2311010);">@</a>Skyzi<br><fieldset class="comment_quote"><legend><a href="http://www.cnblogs.com/TomXu/archive/2011/12/02/2257107.html#2311010" title="查看引用原文">引用</a></legend>大叔，这个系列写得真是急时又好<br>我这里想请教你一个问题，就是当我有一个是主从表的业务操作时，我要怎么实现呢？望指教！Email:ptz19@126.com</fieldset><br><br><br>同问。</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2446797,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2446797,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_2446797_avatar" style="display:none;">http://pic.cnitblog.com/face/u433221.jpg?id=01095354</span>
			<div class="opt_comment"><span class="comment_actions"></span></div>
		</li>
	
		<li class="alt">
			<h5>
				<cite><a href="http://www.cnblogs.com/TomXu/archive/2011/12/02/2257107.html#2831424" class="layer">#8楼</a><a name="2831424" id="comment_anchor_2831424"></a><span id="comment-maxId" style="display:none;">2831424</span><span id="comment-maxDate" style="display:none;">2013/12/5 22:34:13</span></cite> <a id="a_comment_author_2831424" href="http://www.cnblogs.com/zhouyou/" target="_blank">Andy.Zhouyou</a> <a href="http://space.cnblogs.com/msg/send/Andy.Zhouyou" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><small> <span class="comment_date">2013-12-05 22:34</span></small>
			</h5>
			<div id="comment_body_2831424" class="blog_comment_body">你好，大叔<br>我在使用asp.net中使用Knockout.js ，Ajax请求返回的结果，Model不能更新。断点的原因是Ajax返回的慢了一步，执行完ko.applyBindings(viewModel); 才执行返回结果赋值给viewModel.data，怎么办？<br>Ajax是异步的，有返回结果。<br><br>希望大叔有时间，帮忙指点一下，一直没解决。等待中...</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2831424,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2831424,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_2831424_avatar" style="display:none;">http://pic.cnitblog.com/face/u175343.jpg?id=23141145</span>
			<div class="opt_comment"><span class="comment_actions"></span></div>
		</li>
	
</ol>

<div id="comments_pager_bottom"></div></div><script type="text/javascript">var commentManager = new blogCommentManager();commentManager.renderComments(0);</script>
<div id="comment_form" class="commentform">
<a name="commentform"></a>
<div id="divCommentShow"></div>
<div id="comment_nav"><span id="span_refresh_tips"></span><a href="javascript:void(0);" id="lnk_RefreshComments" onclick="return RefreshCommentList();">刷新评论</a><a href="http://www.cnblogs.com/TomXu/archive/2011/12/02/2257107.html#" onclick="return RefreshPage();">刷新页面</a><a href="http://www.cnblogs.com/TomXu/archive/2011/12/02/2257107.html#top">返回顶部</a></div>
<div id="comment_form_container"><div class="login_tips">注册用户登录后才能发表评论，请 <a rel="nofollow" href="javascript:void(0);" class="underline" onclick="return login(&#39;commentform&#39;);">登录</a> 或 <a rel="nofollow" href="javascript:void(0);" class="underline" onclick="return register();">注册</a>，<a href="http://www.cnblogs.com/">访问</a>网站首页。</div></div>
<div class="ad_text_commentbox" id="ad_text_under_commentbox"><a href="http://www.cnblogs.com/cmt/p/3577868.html" target="_blank">游戏开发者报名得阿里云代金券，更有千元大奖等你拿</a></div>
<div id="site_nav_under"><a href="http://www.cnblogs.com/" target="_blank" title="程序员的网上家园">博客园首页</a><a href="http://q.cnblogs.com/" target="_blank" title="程序员问答社区">博问</a><a href="http://news.cnblogs.com/" target="_blank" title="IT新闻">新闻</a><a href="http://home.cnblogs.com/ing/" target="_blank">闪存</a><a href="http://job.cnblogs.com/" target="_blank">程序员招聘</a><a href="http://kb.cnblogs.com/" target="_blank">知识库</a></div>
<div id="ad_under_post_holder">

<div id="google_ad_c1" class="c_ad_block">
    <!-- cnblogs_blogpost_C1_sitehome -->
    <div id="div-gpt-ad-1346480159711-0" style="width: 300px; height: 250px; ">
    
    <div id="google_ads_iframe_/1090369/cnblogs_blogpost_C1_sitehome_0__container__" style="border: 0pt none; "><iframe id="google_ads_iframe_/1090369/cnblogs_blogpost_C1_sitehome_0" name="google_ads_iframe_/1090369/cnblogs_blogpost_C1_sitehome_0" width="300" height="250" scrolling="no" marginwidth="0" marginheight="0" frameborder="0" style="border: 0px; vertical-align: bottom; " src="javascript:"<html><body style='background:transparent'></body></html>""></iframe></div><iframe id="google_ads_iframe_/1090369/cnblogs_blogpost_C1_sitehome_0__hidden__" name="google_ads_iframe_/1090369/cnblogs_blogpost_C1_sitehome_0__hidden__" width="0" height="0" scrolling="no" marginwidth="0" marginheight="0" frameborder="0" style="border: 0px; vertical-align: bottom; visibility: hidden; display: none; " src="javascript:"<html><body style='background:transparent'></body></html>""></iframe></div>
</div>
<div id="blog_news_kb"><div class="itnews c_ad_block"><b>最新IT新闻</b>:<br> ·  <a href="http://news.cnblogs.com/n/201932/" target="_blank">腾讯手游想疯狂变现 却遭遇360狙击</a><br> ·  <a href="http://news.cnblogs.com/n/201931/" target="_blank">迅雷推“红雷盒子”机顶盒：3月28日发售 售399元</a><br> ·  <a href="http://news.cnblogs.com/n/201930/" target="_blank">全球最大飞行器竟是美军间谍工具</a><br> ·  <a href="http://news.cnblogs.com/n/201929/" target="_blank">中国人民银行行长周小川：绝不取缔余额宝</a><br> ·  <a href="http://news.cnblogs.com/n/201928/" target="_blank">神PS！奥斯卡影星与年轻时自己的合影</a><br>» <a href="http://news.cnblogs.com/" title="IT新闻" target="_blank">更多新闻...</a></div><div class="itnews c_ad_block" id="kb_block"><b>最新知识库文章</b>:<br><div id="kb_recent"> ·  <a href="http://kb.cnblogs.com/page/191521/" target="_blank">指尖上的浏览：如何理解用户的眼？</a><br> ·  <a href="http://kb.cnblogs.com/page/200929/" target="_blank">Node.js 究竟是什么？</a><br> ·  <a href="http://kb.cnblogs.com/page/194376/" target="_blank">Habya'a（临时拼凑的组件）与技术债务</a><br> ·  <a href="http://kb.cnblogs.com/page/200528/" target="_blank">关于在线教育和线下教育的六个问题</a><br> ·  <a href="http://kb.cnblogs.com/page/199787/" target="_blank">别错把需求当市场</a><br></div>» <a href="http://kb.cnblogs.com/" target="_blank">更多知识库文章...</a></div></div></div>
<script type="text/javascript">
var enableGoogleAd = true;
var googletag = googletag || {};
googletag.cmd = googletag.cmd || [];
fixPostBodyFormat();
loadAdUnderPost();
</script>
<div id="HistoryToday" class="c_ad_block"></div>
<script type="text/javascript">
loadBlogSignature();
LoadPostInfoBlock(cb_blogId, cb_entryId, cb_blogApp, cb_blogUserGuid);
GetPrevNextPost(cb_entryId, cb_blogId, cb_entryCreatedDate);
GetHistoryToday(cb_blogId, cb_blogApp, cb_entryCreatedDate);
</script>
<script type="text/javascript">
    $.ajax({ url: 'http://counter.cnblogs.com/blog/post/' + cb_entryId, type: 'get', dataType: 'script', cache: true });
</script>
</div>

        </div>
        
	    <script language="javascript" type="text/javascript">
	               var m = window.__blog.contentRendered;
	               if (m) { m(__$("content")); }
        </script>

	    <div id="sidebar">
			    
<div id="about">
<div>
<h2 id="about_title">About</h2>
<div id="about_body">
<div id="blog-news" style=""><p><img style="float:left;margin-right:10px" alt="" src="./Knockout应用开发指南 第九章：高级应用举例 - 汤姆大叔 - 博客园_files/tom.jpg" height="150" width="150"><strong>目前工作</strong>：项目管理（PMP）<br>
<strong>曾获认证</strong>：MCP、MCSE、MCDBA、MCTS、MCITP、MCPD、PMP、MVP<br>
<strong>略有小成</strong>：软件架构、设计模式、OOD、OOP、DI、IOC、AOP、SOA<br>
<strong>兴趣爱好</strong>：技术、管理、英文、吃喝玩乐乱侃空
</p>
<p style="clear:both"></p>
<br>
熟悉Waterfall、Agile(Scrum&amp;XP)，染指C#、ASP.NET、MVC、EF、NHibernate、SQL Server、Oracle、JavaScript、HTML5、CSS3、JQuery、Knockout、Silverlight、WPF、WCF、ADFS等技术<br>
<br>
<span style="color: red;">注：</span>本人翻译的技术文章皆不是逐句翻译，而是按照自己的理解翻译的（当然也去除了一些不影响理解但本人实在不知道如何组织的句子）。<br>
<br>
<p style="clear:both"></p>
<fieldset> <legend>作品上市</legend>
<p><img style="float:left;margin-right:10px" src="./Knockout应用开发指南 第九章：高级应用举例 - 汤姆大叔 - 博客园_files/shupi.jpg" alt="" width="150">
[1] <a href="http://product.china-pub.com/3769483" target="_blank">China-Pub</a>
<br>
<br>
</p>
<p style="clear:both"></p><br>
<p><img style="float:left;margin-right:10px" src="./Knockout应用开发指南 第九章：高级应用举例 - 汤姆大叔 - 博客园_files/o_jsdp.jpg" alt="" width="150">
[1] <a href="http://book.jd.com/11253887.html" target="_blank">京东商城</a>
<br>
[2] <a href="http://www.amazon.cn/JavaScript%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%BE%8E-Addy-Osmani/dp/B00D6MT3LG/" target="_blank">卓越亚马逊</a>
<br>
[3] <a href="http://product.dangdang.com/product.aspx?product_id=23266635" target="_blank">当当网</a>
<br>
[4] <a href="http://product.china-pub.com/3768064" target="_blank">China-Pub</a>
<br>
[5] <a href="http://book.douban.com/subject/24744217/" target="_blank">豆瓣网</a>
<br>
[6] <a href="http://s.taobao.com/search?q=JavaScript%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%20Addy%20Osmani" target="_blank">淘宝网</a>
<br>
<br>
</p>
<div style="clear:both"></div>
<p><img style="float:left;margin-right:10px" src="./Knockout应用开发指南 第九章：高级应用举例 - 汤姆大叔 - 博客园_files/o_EloquentJavaScript.jpg" alt="" width="150">
[1] <a href="http://book.360buy.com/11091494.html" target="_blank">京东商城</a>
<br>
[2] <a href="http://www.amazon.cn/JavaScript%E7%BC%96%E7%A8%8B%E7%B2%BE%E8%A7%A3-%E5%93%88%E5%BC%97%E8%B4%9D%E5%85%8B/dp/B009A7D25E/ref=sr_1_11" target="_blank">卓越亚马逊</a>
<br>
[3] <a href="http://union.dangdang.com/transfer/transfer.aspx?from=P-263982&backurl=http://product.dangdang.com/product.aspx?product_id=22873894" target="_blank">当当网</a>
<br>
[4] <a href="http://product.china-pub.com/3684096" target="_blank">China-Pub</a>
<br>
[5] <a href="http://book.douban.com/subject/19933548/" target="_blank">豆瓣网</a>
<br>
[6] <a href="http://s.taobao.com/search?q=JavaScript%E7%BC%96%E7%A8%8B%E7%B2%BE%E8%A7%A3" target="_blank">淘宝网</a>
<br>
<br>
<a href="http://www.cnblogs.com/TomXu/archive/2012/10/21/JSError.html" target="_blank">本书勘误</a>
</p>

</fieldset><div id="profile_block">昵称：<a href="http://home.cnblogs.com/u/TomXu/">汤姆大叔</a><br>园龄：<a href="http://home.cnblogs.com/u/TomXu/" title="入园时间：2011-11-10">2年3个月</a><br>荣誉：<a href="http://www.cnblogs.com/expert/">推荐博客</a><br>粉丝：<a href="http://home.cnblogs.com/u/TomXu/followers/">4759</a><br>关注：<a href="http://home.cnblogs.com/u/TomXu/followees/">19</a><div id="p_b_follow"><a href="javascript:void(0);" onclick="cnblogs.UserManager.FollowBlogger(&#39;65b02d3c-5b0b-e111-b7b9-842b2b196315&#39;)">+加关注</a></div></div></div>
<script type="text/javascript">loadBlogNews();</script>
</div>
</div>
</div>

			    <script language="javascript" type="text/javascript">
                        var m = window.__blog.aboutRendered;
                        if (m) { m(__$("about")); }
                </script>
                
<script type="text/javascript">
function zzk_go()
{
	var blogapp = 'TomXu';
	var keystr = encodeURIComponent("blog:"+blogapp+" "+document.getElementById('q').value);
    window.location = "http://zzk.cnblogs.com/s?w="+keystr;
}
function zzk_go_enter(event)
{
	if(event.keyCode == 13)
	{
	    zzk_go();
	    return false;
	}
}
</script>

<div id="mySearchWrapper">
    <div id="mySearch">
        <input type="image" src="./Knockout应用开发指南 第九章：高级应用举例 - 汤姆大叔 - 博客园_files/btnsearch.gif" id="btnZzk" class="submit" onclick="zzk_go();return false;">
        <label class="lb_search"><input type="text" id="q" onkeydown="return zzk_go_enter(event);" class="keyword"></label>
    </div>
</div>

                <script language="javascript" type="text/javascript">
                                var m = window.__blog.searchFormRendered;
                                if (m) { m(__$("searchform")); }
                </script>
                <div id="sideMain">
                <div id="side-recent-posts">
<h2>最新随笔</h2>
 <ul class="bullet">

		<li><a href="http://www.cnblogs.com/TomXu/archive/2013/06/14/3135050.html">新书《JavaScript设计模式 》出版，感谢支持</a></li>
	
		<li><a href="http://www.cnblogs.com/TomXu/archive/2012/10/22/2733027.html">《JavaScript编程精解》回馈网友，汤姆大叔送书30本</a></li>
	
		<li><a href="http://www.cnblogs.com/TomXu/archive/2012/10/21/JSError.html">《JavaScript编程精解》勘误</a></li>
	
		<li><a href="http://www.cnblogs.com/TomXu/archive/2012/07/26/2581268.html">深入理解JavaScript系列（结局篇）</a></li>
	
		<li><a href="http://www.cnblogs.com/TomXu/archive/2012/07/24/2581239.html">深入理解JavaScript系列（50）：Function模式（下篇）</a></li>
	
		<li><a href="http://www.cnblogs.com/TomXu/archive/2012/07/23/2580701.html">深入理解JavaScript系列（49）：Function模式（上篇）</a></li>
	
		<li><a href="http://www.cnblogs.com/TomXu/archive/2012/04/26/2443010.html">深入理解JavaScript系列（48）：对象创建模式（下篇）</a></li>
	
		<li><a href="http://www.cnblogs.com/TomXu/archive/2012/04/25/2439527.html">深入理解JavaScript系列（47）：对象创建模式（上篇）</a></li>
	
		<li><a href="http://www.cnblogs.com/TomXu/archive/2012/04/24/2438050.html">深入理解JavaScript系列（46）：代码复用模式（推荐篇）</a></li>
	
		<li><a href="http://www.cnblogs.com/TomXu/archive/2012/04/23/2438005.html">深入理解JavaScript系列（45）：代码复用模式（避免篇）</a></li>
	
</ul>
</div><div id="side-recent-comments">
    <h2>最新评论</h2>
    <ul class="voice">
    
            <li>
                <a href="http://www.cnblogs.com/TomXu/archive/2012/01/09/2306329.html#2887741">Re:深入理解JavaScript系列（7）：S.O.L.I.D五大原则之开闭原则OCP</a>
            <br>
            <a class="child" href="http://www.cnblogs.com/TomXu/archive/2012/01/09/2306329.html#2887741">
                @蓝丶 sky引用@chasefornone如果先设置my的renderInput，基类中的renderInput就会覆盖你重写的那个函数，这样就没用了。而写在后面可以覆盖基类中的renderInpu...
                 -- LoveJenny
            </a>
            </li>
        
            <li>
                <a href="http://www.cnblogs.com/TomXu/archive/2011/12/15/2288411.html#2887325">Re:深入理解JavaScript系列</a>
            <br>
            <a class="child" href="http://www.cnblogs.com/TomXu/archive/2011/12/15/2288411.html#2887325">
                @linjisong<br>麻烦发给我一份，这是我的邮箱: wyf061@126.com<br>谢谢。
                 -- Vincent Wu
            </a>
            </li>
        
            <li>
                <a href="http://www.cnblogs.com/TomXu/archive/2012/01/06/2305513.html#2887245">Re:深入理解JavaScript系列（6）：S.O.L.I.D五大原则之单一职责SRP</a>
            <br>
            <a class="child" href="http://www.cnblogs.com/TomXu/archive/2012/01/06/2305513.html#2887245">
                @汤姆大叔引用引用引用600120：感觉大叔学习精力充沛哦，问个个人问题，大叔有孩子了没？有了，儿子，所以不担心身体了，也敢喝可乐了，嘿嘿有了儿子，就更要担心身体了，只是不用担心自己不孕不育了，呵呵。
                 -- LoveJenny
            </a>
            </li>
        
            <li>
                <a href="http://www.cnblogs.com/TomXu/archive/2011/12/31/2289423.html#2887188">Re:深入理解JavaScript系列（4）：立即调用的函数表达式</a>
            <br>
            <a class="child" href="http://www.cnblogs.com/TomXu/archive/2011/12/31/2289423.html#2887188">
                @unbreakable引用@shinebob(function(){})()还记的我们var a=function(){},用a()来调用这个方法吧！此处a看做一个函数对象引用,那我们可以看做(fu...
                 -- LoveJenny
            </a>
            </li>
        
            <li>
                <a href="http://www.cnblogs.com/TomXu/archive/2012/04/11/2435452.html#2883158">Re:深入理解JavaScript系列（39）：设计模式之适配器模式</a>
            <br>
            <a class="child" href="http://www.cnblogs.com/TomXu/archive/2012/04/11/2435452.html#2883158">
                @troy huang我觉得是没有必要执行这个操作，TurkeyAdapter包装类传过去的对象参数只要是WildTurkey类的子对象就可以了吧，...
                 -- js蜗牛
            </a>
            </li>
        
            <li>
                <a href="http://www.cnblogs.com/TomXu/archive/2011/12/17/2288579.html#2882937">Re:大叔手记（9）：小心使用IHttpHandler下的IsReusable属性</a>
            <br>
            <a class="child" href="http://www.cnblogs.com/TomXu/archive/2011/12/17/2288579.html#2882937">
                本意应该是：IHttpHandler的实现类，要注意多线程问题，<br>而不是ProcessRequest (HttpContext context)中的context 有问题
                 -- 个人知识管理
            </a>
            </li>
        
            <li>
                <a href="http://www.cnblogs.com/TomXu/archive/2011/12/17/2288579.html#2882908">Re:大叔手记（9）：小心使用IHttpHandler下的IsReusable属性</a>
            <br>
            <a class="child" href="http://www.cnblogs.com/TomXu/archive/2011/12/17/2288579.html#2882908">
                有误！<br>应是不能使用 HttpContext.Current来获取Request等
                 -- 个人知识管理
            </a>
            </li>
        
            <li>
                <a href="http://www.cnblogs.com/TomXu/archive/2012/01/18/2312463.html#2881687">Re:深入理解JavaScript系列（14）：作用域链(Scope Chain)</a>
            <br>
            <a class="child" href="http://www.cnblogs.com/TomXu/archive/2012/01/18/2312463.html#2881687">
                @eeeeeeebar函数的执行上下文：barExecution Context={ 变量对象: barAO, this:foo, Scope Chain:[barAO,globalVO]}barAO...
                 -- mciiv
            </a>
            </li>
        
            <li>
                <a href="http://www.cnblogs.com/TomXu/archive/2011/12/29/2290308.html#2881218">Re:深入理解JavaScript系列（2）：揭秘命名函数表达式</a>
            <br>
            <a class="child" href="http://www.cnblogs.com/TomXu/archive/2011/12/29/2290308.html#2881218">
                测试了一下，IE9以下的浏览器除了回忽略if语句，也会忽略return语句，直接解析命名表达式：	var f = (function() { if (false) { return function ...
                 -- islerning
            </a>
            </li>
        
            <li>
                <a href="http://www.cnblogs.com/TomXu/archive/2012/01/16/2309728.html#2880668">Re:深入理解JavaScript系列（12）：变量对象（Variable Object）</a>
            <br>
            <a class="child" href="http://www.cnblogs.com/TomXu/archive/2012/01/16/2309728.html#2880668">
                引用变量对象(缩写为VO)是一个与执行上下文相关的特殊对象，它存储着在上下文中声明的以下内容： 变量 (var, 变量声明); 函数声明 (FunctionDeclaration, 缩写为FD); 函...
                 -- mciiv
            </a>
            </li>
        
    </ul>
</div></div>
                <div id="sideRight">
                <div id="side-archives">
<h2>随笔档案</h2>
<ul class="date">

 <li><a href="http://www.cnblogs.com/TomXu/archive/2013/06.html">2013年6月(1)</a></li>
 

 <li><a href="http://www.cnblogs.com/TomXu/archive/2012/10.html">2012年10月(2)</a></li>
 

 <li><a href="http://www.cnblogs.com/TomXu/archive/2012/07.html">2012年7月(3)</a></li>
 

 <li><a href="http://www.cnblogs.com/TomXu/archive/2012/04.html">2012年4月(12)</a></li>
 

 <li><a href="http://www.cnblogs.com/TomXu/archive/2012/03.html">2012年3月(5)</a></li>
 

 <li><a href="http://www.cnblogs.com/TomXu/archive/2012/02.html">2012年2月(18)</a></li>
 

 <li><a href="http://www.cnblogs.com/TomXu/archive/2012/01.html">2012年1月(14)</a></li>
 

 <li><a href="http://www.cnblogs.com/TomXu/archive/2011/12.html">2011年12月(45)</a></li>
 

 <li><a href="http://www.cnblogs.com/TomXu/archive/2011/11.html">2011年11月(28)</a></li>
 

</ul>
</div>






















<div id="blog-calendar" style=""><table id="blogCalendar" class="Cal" cellspacing="0" cellpadding="0" title="日历">
	<tbody><tr><td colspan="7"><table class="CalTitle" cellspacing="0">
		<tbody><tr><td class="CalNextPrev"><a href="javascript:void(0);" onclick="loadBlogCalendar(&#39;2014/02/01&#39;);return false;">&lt;</a></td><td align="center">2014年3月</td><td class="CalNextPrev" align="right"><a href="javascript:void(0);" onclick="loadBlogCalendar(&#39;2014/04/01&#39;);return false;">&gt;</a></td></tr>
	</tbody></table></td></tr><tr><th class="CalDayHeader" align="center" abbr="日" scope="col">日</th><th class="CalDayHeader" align="center" abbr="一" scope="col">一</th><th class="CalDayHeader" align="center" abbr="二" scope="col">二</th><th class="CalDayHeader" align="center" abbr="三" scope="col">三</th><th class="CalDayHeader" align="center" abbr="四" scope="col">四</th><th class="CalDayHeader" align="center" abbr="五" scope="col">五</th><th class="CalDayHeader" align="center" abbr="六" scope="col">六</th></tr><tr><td class="CalOtherMonthDay" align="center">23</td><td class="CalOtherMonthDay" align="center">24</td><td class="CalOtherMonthDay" align="center">25</td><td class="CalOtherMonthDay" align="center">26</td><td class="CalOtherMonthDay" align="center">27</td><td class="CalOtherMonthDay" align="center">28</td><td class="CalWeekendDay" align="center">1</td></tr><tr><td class="CalWeekendDay" align="center">2</td><td align="center">3</td><td class="CalTodayDay" align="center">4</td><td align="center">5</td><td align="center">6</td><td align="center">7</td><td class="CalWeekendDay" align="center">8</td></tr><tr><td class="CalWeekendDay" align="center">9</td><td align="center">10</td><td align="center">11</td><td align="center">12</td><td align="center">13</td><td align="center">14</td><td class="CalWeekendDay" align="center">15</td></tr><tr><td class="CalWeekendDay" align="center">16</td><td align="center">17</td><td align="center">18</td><td align="center">19</td><td align="center">20</td><td align="center">21</td><td class="CalWeekendDay" align="center">22</td></tr><tr><td class="CalWeekendDay" align="center">23</td><td align="center">24</td><td align="center">25</td><td align="center">26</td><td align="center">27</td><td align="center">28</td><td class="CalWeekendDay" align="center">29</td></tr><tr><td class="CalWeekendDay" align="center">30</td><td align="center">31</td><td class="CalOtherMonthDay" align="center">1</td><td class="CalOtherMonthDay" align="center">2</td><td class="CalOtherMonthDay" align="center">3</td><td class="CalOtherMonthDay" align="center">4</td><td class="CalOtherMonthDay" align="center">5</td></tr>
</tbody></table></div><div id="side-link-341714">
    <h2>[01]汤姆大叔系列博文</h2>
    <ul class="chain">
    
        <li>
        <a href="http://www.cnblogs.com/TomXu/archive/2011/12/10/2283385.html" target="_blank">[01]大叔手记全集</a></li>
    
        <li>
        <a href="http://www.cnblogs.com/TomXu/archive/2011/11/21/2257154.html" target="_blank">[02]Knockout应用开发指南</a></li>
    
        <li>
        <a href="http://www.cnblogs.com/TomXu/archive/2011/11/25/2263050.html" target="_blank">[03]微软ASP.NET站点部署指南</a></li>
    
        <li>
        <a href="http://www.cnblogs.com/TomXu/archive/2011/12/06/2277499.html" target="_blank">[04]HTML5学习笔记简明版</a></li>
    
        <li>
        <a href="http://www.cnblogs.com/TomXu/archive/2011/12/15/2284773.html" target="_blank">[05]大叔翻译博文索引</a></li>
    
        <li>
        <a href="http://www.cnblogs.com/TomXu/archive/2011/12/15/2288411.html" target="_blank">[06]深入理解JavaScript系列</a></li>
    
    </ul>
</div><div id="side-link-345292">
    <h2>[03]推荐博友算法相关</h2>
    <ul class="chain">
    
        <li>
        <a href="http://www.cnblogs.com/huangxincheng/category/340146.html" target="_blank">[01]算法系列15天速成</a></li>
    
        <li>
        <a href="http://www.cnblogs.com/jinzhao/archive/2011/11/30/2268569.html" target="_blank">[02]算法实现大全</a></li>
    
        <li>
        <a href="http://www.cnblogs.com/tuyile006/category/95974.html" target="_blank">[03]常用算法</a></li>
    
        <li>
        <a href="http://www.cnblogs.com/Jax/category/57279.html" target="_blank">[04]算法大全</a></li>
    
        <li>
        <a href="http://www.cnblogs.com/weidagang2046/archive/2009/07/31/1535902.html" target="_blank">[05]博客积分算法探讨</a></li>
    
        <li>
        <a href="http://www.cnblogs.com/chehaoj/archive/2010/11/23/1885497.html" target="_blank">[06]常见算法推演</a></li>
    
        <li>
        <a href="http://www.cnblogs.com/wangfupeng1988/archive/2011/12/26/2302216.html" target="_blank">[07]眼睛直观感受几种常用排序算法</a></li>
    
    </ul>
</div></div>
                <div id="sideLeft">            
                <div id="side-categories">
<h2>随笔分类</h2>
<ul class="folder">

 <li><a class="mini_rss" href="http://www.cnblogs.com/TomXu/category/335665.html/rss">Rss</a>
 <a href="http://www.cnblogs.com/TomXu/category/335665.html">[01].Net Framework(4)</a> </li>

 <li><a class="mini_rss" href="http://www.cnblogs.com/TomXu/category/338101.html/rss">Rss</a>
 <a href="http://www.cnblogs.com/TomXu/category/338101.html">[02]C#(3)</a> </li>

 <li><a class="mini_rss" href="http://www.cnblogs.com/TomXu/category/338102.html/rss">Rss</a>
 <a href="http://www.cnblogs.com/TomXu/category/338102.html">[03]ASP.NET(5)</a> </li>

 <li><a class="mini_rss" href="http://www.cnblogs.com/TomXu/category/335666.html/rss">Rss</a>
 <a href="http://www.cnblogs.com/TomXu/category/335666.html">[04]ASP.NET MVC(8)</a> </li>

 <li><a class="mini_rss" href="http://www.cnblogs.com/TomXu/category/336175.html/rss">Rss</a>
 <a href="http://www.cnblogs.com/TomXu/category/336175.html">[05]HTML5/CSS3(16)</a> </li>

 <li><a class="mini_rss" href="http://www.cnblogs.com/TomXu/category/338104.html/rss">Rss</a>
 <a href="http://www.cnblogs.com/TomXu/category/338104.html">[06]JS/jQuery(62)</a> </li>

 <li><a class="mini_rss" href="http://www.cnblogs.com/TomXu/category/337109.html/rss">Rss</a>
 <a href="http://www.cnblogs.com/TomXu/category/337109.html">[07]Web开发(57)</a> </li>

 <li><a class="mini_rss" href="http://www.cnblogs.com/TomXu/category/336771.html/rss">Rss</a>
 <a href="http://www.cnblogs.com/TomXu/category/336771.html">[08]Knockout(15)</a> </li>

 <li><a class="mini_rss" href="http://www.cnblogs.com/TomXu/category/338040.html/rss">Rss</a>
 <a href="http://www.cnblogs.com/TomXu/category/338040.html">[09]配置管理(13)</a> </li>

 <li><a class="mini_rss" href="http://www.cnblogs.com/TomXu/category/337899.html/rss">Rss</a>
 <a href="http://www.cnblogs.com/TomXu/category/337899.html">[10]项目管理(3)</a> </li>

 <li><a class="mini_rss" href="http://www.cnblogs.com/TomXu/category/340064.html/rss">Rss</a>
 <a href="http://www.cnblogs.com/TomXu/category/340064.html">[11]大叔手记(22)</a> </li>

</ul>
</div><div id="side-top-posts-custom">
<h2>推荐排行榜</h2>
	<div id="TopDiggPostsBlock"><ul><li><a href="http://www.cnblogs.com/TomXu/archive/2011/12/15/2288411.html">1. 深入理解JavaScript系列(260)</a></li><li><a href="http://www.cnblogs.com/TomXu/archive/2011/12/28/2286877.html">2. 深入理解JavaScript系列（1）：编写高质量JavaScript代码的基本要点(249)</a></li><li><a href="http://www.cnblogs.com/TomXu/archive/2011/12/21/2292722.html">3. 大叔手记（12）：我的一次面试经历（谈大叔如何应对面试官）(225)</a></li><li><a href="http://www.cnblogs.com/TomXu/archive/2012/02/23/2364425.html">4. 大叔手记（21）：汤姆大叔博客园开博100天总结(197)</a></li><li><a href="http://www.cnblogs.com/TomXu/archive/2011/12/29/2290308.html">5. 深入理解JavaScript系列（2）：揭秘命名函数表达式(124)</a></li><li><a href="http://www.cnblogs.com/TomXu/archive/2011/12/30/2288372.html">6. 深入理解JavaScript系列（3）：全面解析Module模式(104)</a></li><li><a href="http://www.cnblogs.com/TomXu/archive/2012/01/12/2308594.html">7. 深入理解JavaScript系列（10）：JavaScript核心（晋级高手必读篇）(98)</a></li><li><a href="http://www.cnblogs.com/TomXu/archive/2012/01/05/2305453.html">8. 深入理解JavaScript系列（5）：强大的原型和原型链(93)</a></li><li><a href="http://www.cnblogs.com/TomXu/archive/2011/12/19/2291448.html">9. 大叔手记（10）：别再让面试官问你单例（暨6种实现方式让你堵住面试官的嘴）(85)</a></li><li><a href="http://www.cnblogs.com/TomXu/archive/2011/11/22/2258849.html">10. 最锋利的Visual Studio Web开发工具扩展：Web Essentials详解(72)</a></li></ul></div>
</div><div id="side-top-posts">
<h2>阅读排行榜</h2>
	<div id="TopViewPostsBlock"><ul><li><a href="http://www.cnblogs.com/TomXu/archive/2011/12/15/2288411.html">1. 深入理解JavaScript系列(141708)</a></li><li><a href="http://www.cnblogs.com/TomXu/archive/2011/12/28/2286877.html">2. 深入理解JavaScript系列（1）：编写高质量JavaScript代码的基本要点(60458)</a></li><li><a href="http://www.cnblogs.com/TomXu/archive/2011/11/21/2257154.html">3. Knockout应用开发指南（完整版） 目录索引(34682)</a></li><li><a href="http://www.cnblogs.com/TomXu/archive/2011/12/29/2290308.html">4. 深入理解JavaScript系列（2）：揭秘命名函数表达式(32605)</a></li><li><a href="http://www.cnblogs.com/TomXu/archive/2012/10/22/2733027.html">5. 《JavaScript编程精解》回馈网友，汤姆大叔送书30本(29832)</a></li><li><a href="http://www.cnblogs.com/TomXu/archive/2011/12/21/2292722.html">6. 大叔手记（12）：我的一次面试经历（谈大叔如何应对面试官）(25719)</a></li><li><a href="http://www.cnblogs.com/TomXu/archive/2011/12/30/2288372.html">7. 深入理解JavaScript系列（3）：全面解析Module模式(24692)</a></li><li><a href="http://www.cnblogs.com/TomXu/archive/2012/01/12/2308594.html">8. 深入理解JavaScript系列（10）：JavaScript核心（晋级高手必读篇）(23956)</a></li><li><a href="http://www.cnblogs.com/TomXu/archive/2011/12/06/2277510.html">9. 汤姆大叔博客索引(22745)</a></li><li><a href="http://www.cnblogs.com/TomXu/archive/2012/01/05/2305453.html">10. 深入理解JavaScript系列（5）：强大的原型和原型链(20925)</a></li></ul></div>
</div><div id="side-link-342866">
    <h2>[02]汤姆大叔推荐单篇</h2>
    <ul class="chain">
    
        <li>
        <a href="http://www.cnblogs.com/TomXu/archive/2011/12/14/2286225.html" target="_blank">[01]大型JavaScript应用架构模式</a></li>
    
        <li>
        <a href="http://www.cnblogs.com/TomXu/archive/2011/12/19/2291448.html" target="_blank">[02]别再让面试官问你单例</a></li>
    
        <li>
        <a href="http://www.cnblogs.com/TomXu/archive/2011/12/21/2292722.html" target="_blank">[03]大叔的一次面试经历</a></li>
    
    </ul>
</div><div id="side-link-345293">
    <h2>[04]推荐博友精选好文</h2>
    <ul class="chain">
    
        <li>
        <a href="http://www.cnblogs.com/peterzb/archive/2009/06/14/1502918.html" target="_blank">[01]C# WinForm开发系列</a></li>
    
        <li>
        <a href="http://www.cnblogs.com/lifepoem/archive/2011/12/16/2288017.html" target="_blank">[02]LINQ之路</a></li>
    
        <li>
        <a href="http://www.cnblogs.com/xiao-f/archive/2011/12/19/lang.html" target="_blank">[03]Javascript面向对象扩展库</a></li>
    
    </ul>
</div><div id="side-link-348581">
    <h2>[05]推荐外部精选好文</h2>
    <ul class="chain">
    
        <li>
        <a href="http://kangax.github.com/es5-compat-table/" target="_blank">[01]ECMAScript 5浏览器兼容表</a></li>
    
        <li>
        <a href="http://kb.cnblogs.com/page/127995/" target="_blank">[02]Javascript 面向对象编程</a></li>
    
    </ul>
</div></div>
			    
			    <div id="sideContainer"></div>
                <script language="javascript" type="text/javascript">
                    $.ajax({
                        url: '/' + currentBlogApp + '/mvc/blog/Minyx2_Lite_SideColumn.aspx',
                        data: '{}',
                        type: 'post',
                        dataType: 'text',
                        contentType: 'application/json; charset=utf-8',
                        success: function (data) {
                            if (data) {
                                $("#sideContainer").html(data);
                                if ($("#blog-calendar").length) {
                                    loadBlogCalendar();
                                }
                                loadBlogSideBlocks();
                                var m = window.__blog.sideContainerRendered;
                                if (m) { m(__$("sideContainer")); }
                                window.__blog.sidebar.__layout();
                            }
                        }
                    });
                    
                 </script>       	
			                      
 		    </div>
     		
	        <script language="javascript" type="text/javascript">
	        var m = window.__blog.sidebarRendered;
	        if (m) { m(__$("sidebar")); }
                </script>        
     </div>
     
        <script language="javascript" type="text/javascript">
            var m = window.__blog.wrapperRendered;
            if (m) { m(__$("wrapper")); }
        </script>

</div>
<!-- end of container -->
    
<script language="javascript" type="text/javascript">
    var m = window.__blog.containerRendered;
    if (m) { m(__$("container")); }
</script>

<div id="footer">
        
<p id="logoFoot">
    <a href="http://www.spiga.com.mx/" title="Agencia Interactiva Spiga">www.spiga.com.mx</a>
</p>
<div class="footText">
<p>
Copyright ©2014 汤姆大叔
</p>
<p>
<a href="http://www.cnblogs.com/">博客园</a>
</p>
</div>
</div><!--end: footer -->

<!--PageEndHtml Block Begin-->
<script type="text/javascript">
    $(document).ready(function () {
        $("body").prepend($("#div_digg").css({
            "position": "fixed", "right": "0px", "bottom": "0px", "z-index": "10", "background-color": "white", "margin": "10px", "padding": "10px", "border": "1px solid #cccccc"
        }));
      $(".cnblogs_code_toolbar").hide();
    });
</script>
<!--PageEndHtml Block End-->


<iframe id="google_osd_static_frame_5618221827317" name="google_osd_static_frame" style="display: none; width: 0px; height: 0px; "></iframe></body></html>